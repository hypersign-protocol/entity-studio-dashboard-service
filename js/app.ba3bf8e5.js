(function(t){function e(e){for(var n,a,s=e[0],c=e[1],l=e[2],h=0,d=[];h<s.length;h++)a=s[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,s=1;s<r.length;s++){var c=r[s];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},i={app:0},o=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([8,"chunk-vendors"]),r()})({0:function(t,e){},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},17:function(t,e){},18:function(t,e){},19:function(t,e){},2:function(t,e){},20:function(t,e){},3:function(t,e){},"36b1":function(t,e,r){"use strict";r("dd96")},4:function(t,e){},"41fd":function(t,e,r){},4829:function(t,e,r){},"4e9e":function(t,e,r){"use strict";r("4829")},5:function(t,e){},"516f":function(t,e,r){"use strict";r("e0b8")},5619:function(t){t.exports=JSON.parse('{"NODE_ENV":"$NODE_ENV","TITLE":"$VUE_APP_TITLE","DESC":"$VUE_APP_DESC","VERSION":"$VUE_APP_VERSION","STUDIO_SERVER_BASE_URL":"$VUE_APP_STUDIO_SERVER_BASE_URL","STUDIO_SERVER_BASE_WS":"$VUE_APP_STUDIO_SERVER_BASE_WS","NODE_SERVER_BASE_URL":"$VUE_APP_NODE_SERVER_BASE_URL","NODE_SERVER_BASE_URL_REST":"$VUE_APP_NODE_SERVER_BASE_URL_REST","SCHEMA_GET_EP_REST":"$VUE_APP_SCHEMA_GET_EP_REST","ACCPCT_CRED_EP":"$VUE_APP_ACCPCT_CRED_EP","EXPLORER_BASE_URL":"$VUE_APP_EXPLORER_BASE_URL","STUDIO_SERVER_SAVE_SCHEMA":"$VUE_APP_STUDIO_SERVER_SAVE_SCHEMA","SCHEMA_LIST_EP":"$VUE_APP_SCHEMA_LIST_EP","STUDIO_SERVER_CRED_LIST_EP":"$VUE_APP_STUDIO_SERVER_CRED_LIST_EP","WEB_WALLET_ADDRESS":"$VUE_APP_WEB_WALLET_ADDRESS"}')},"56d7":function(t,e,r){"use strict";r.r(e);var n=r("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"row nav-style"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group form-inline"},[e("img",{staticClass:"logo-style",attrs:{src:"https://thumb.tildacdn.com/tild3065-3765-4865-b331-393637653931/-/resize/150x/-/format/webp/hypersign_Yellow.png"}}),e("h4",{staticClass:"subtitle"},[e("span",{staticStyle:{opacity:"0.4"}},[t._v("|")]),t._v(" "+t._s(t.$config.app.name)+" ("+t._s(t.$config.app.version)+")")])])]),t.authRoutes.includes(t.$router.history.current.name)?t._e():e("div",{staticClass:"col-md-8 rightAlign",staticStyle:{"padding-top":"12px"}},t._l(t.menu,(function(r){return e("button",{key:r.name,staticClass:"btn btn-light btn-sm",attrs:{type:"button"},on:{click:function(e){return t.goToNextPage(r.name)}}},[t._v(t._s(r.name))])})),0)]),e("router-view"),e("notifications",{attrs:{group:"foo"}})],1)},o=[],a={data:function(){return{authRoutes:["register","PKIIdLogin"],menu:[{name:"Dashboard",path:"/studio/dashboard",isShow:!0},{name:"Schema",path:"/studio/schema",isShow:!0},{name:"Credentials",path:"/studio/credential",isShow:!0},{name:"Presentation",path:"/studio/presentation",isShow:!0},{name:"Logout",path:"/login",isShow:!1}]}},created:function(){},methods:{logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData")},goToNextPage:function(t){var e=this.menu.find((function(e){return e.name===t}));"Logout"===e.name&&this.logout(),this.$router.push(e.path),null!=this.$route.params.nextUrl?this.$router.push(this.$route.params.nextUrl):this.$router.push(e.path)}}},s=a,c=(r("eae8"),r("beb2"),r("2877")),l=Object(c["a"])(s,i,o,!1,null,"6a61ad3a",null),u=l.exports,h=r("8c4f"),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row",staticStyle:{"align-content":"center"}},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"col-md-7",staticStyle:{"font-size":"small",color:"grey"},attrs:{hidden:""}},[t._v("\n    Can we put one big image here?\n  ")]),e("div",{staticClass:"col-md-3",staticStyle:{"font-size":"small",color:"grey","margin-left":"36%"}},[e("form",{staticStyle:{padding:"6px"},attrs:{action:"#"}},[e("b-card",{staticStyle:{padding:"40px"},attrs:{"no-body":""}},[e("h4",[t._v("Login")]),e("hr"),e("div",{staticClass:"row"},[e("form",{staticClass:"col-md-12",attrs:{action:"#"}},[e("div",{staticClass:"form-group"},[e("qrcode-vue",{attrs:{value:t.qr_data,size:150,level:"H"}}),e("label",{staticStyle:{"font-size":"small",color:"grey","margin-top":"1%"}},[t._v("Scan QR code using Hypersign Mobile\n                App")]),e("div",[e("span",{staticStyle:{"font-size":"small",color:"grey",padding:"10px"}},[t._v("\n                  Get the app on\n                  "),e("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.hypersign.cordova",target:"__blank"}},[t._v("Android")]),t._v("\n                  or\n                  "),e("a",{attrs:{href:t.$config.webWalletAddress,target:"__blank"}},[t._v("Web")])])])],1),e("div",{staticClass:"form-group"},[e("h5",[e("span",[t._v("Or")])])]),e("div",{staticClass:"mb-2 primary"},[""!=this.value?e("a",{staticClass:"btn btn-hypersign button-theme",style:t.buttonThemeCss,attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openWallet()}}},[e("div",{staticStyle:{"font-size":"smaller",padding:"10px"}},[t._v("\n                  Click To Login\n                ")])]):t._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9 floatRight"},[t._v("\n            Do not have an account?\n            "),e("a",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:function(e){return t.push("register")}}},[t._v("SignUp")])])])])],1)])],1)},f=[],p=r("d7b0"),v=r("41aa"),m=r.n(v),g=r("522b");console.log(Object({NODE_ENV:"production",VUE_APP_TITLE:"Hypersign Studio",VUE_APP_DESC:"A portal to issue and verify credentials on Hypersign Identity network!",VUE_APP_VERSION:"v1.0",VUE_APP_STUDIO_SERVER_BASE_URL:"https://stage.hypermine.in/studioserver/",VUE_APP_STUDIO_SERVER_BASE_WS:"wss://stage.hypermine.in/studioserverws/",VUE_APP_NODE_SERVER_BASE_URL:"https://jagrat.hypersign.id/node1/rpc/",VUE_APP_NODE_SERVER_BASE_URL_REST:"https://jagrat.hypersign.id/node1/rest/",VUE_APP_SCHEMA_GET_EP_REST:"hypersign-protocol/hidnode/ssi/schema/",VUE_APP_ACCPCT_CRED_EP:"api/v1/credential/accepct",VUE_APP_EXPLORER_BASE_URL:"https://explorer.hypersign.id/",VUE_APP_STUDIO_SERVER_SAVE_SCHEMA:"api/v1/schema/issue",VUE_APP_SCHEMA_LIST_EP:"api/v1/schema/get",VUE_APP_STUDIO_SERVER_CRED_LIST_EP:"api/v1/credential/list",VUE_APP_WEB_WALLET_ADDRESS:"https://wallet-stage.hypersign.id",BASE_URL:"/"}));var y={studioServer:{BASE_URL:"https://stage.hypermine.in/studioserver/",ACCPCT_CRED_EP:"api/v1/credential/accepct",SAVE_SCHEMA_EP:"api/v1/schema/issue",CRED_LIST_EP:"api/v1/credential/list",SCHEMA_LIST_EP:"api/v1/schema/get",CRED_ISSUE_EP:m.a.value("STUDIO_SERVER_CRED_ISSUE_EP")||"api/v1/credential/issue",AUTH_CHALLENGE_EP:m.a.value("STUDIO_SERVER_AUTH_CHALLENGE_EP")||"api/auth/challenge",AUTH_LOGIN_EP:m.a.value("STUDIO_SERVER_AUTH_LOGIN_EP")||"api/auth/login"},nodeServer:{BASE_URL:"https://jagrat.hypersign.id/node1/rpc/",BASE_URL_REST:"https://jagrat.hypersign.id/node1/rest/",SCHEMA_GET_REST:"hypersign-protocol/hidnode/ssi/schema/",NETWORK_STATUS_EP:m.a.value("NODE_SERVER_NETWORK_STATUS_EP")||"net_info",SCHEMA_LIST_EP:m.a.value("NODE_SERVER_SCHEMA_LIST_EP")||"api/schema/list",SCHEMA_GET_EP:m.a.value("NODE_SERVER_SCHEMA_GET_EP")||"api/schema/get",SCHEMA_CREATE_EP:m.a.value("NODE_SERVER_SCHEMA_CREATE_EP")||"api/schema/create",DID_RESOLVE_EP:m.a.value("NODE_SERVER_DID_RERSOLVE_EP")||"api/did/resolve/"},explorer:{BASE_URL:m.a.value("EXPLORER_BASE_URL"),NEW_DID_EP:m.a.value("EXPLORER_NEW_DID_EP")||"newdid"},app:{name:m.a.value("TITLE")||"Hypersign Studio",decription:m.a.value("DESC"),version:m.a.value("VERSION")}},b="wss://stage.hypermine.in/studioserverws/",_="https://wallet-stage.hypersign.id",S={nodeUrl:y.nodeServer.BASE_URL,didScheme:"did:hs"},E={did:g.did(S),credential:g.credential(S)};y["appName"]="Studio",y["hypersignSDK"]=E,y["websocketUrl"]=b,y["webWalletAddress"]=_;var w=y,C=r("9062"),x=r.n(C);r("e40d");function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}var P=void 0;function O(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */O=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(P){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new w(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return x()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(P){return{type:"throw",arg:P}}}t.wrap=c;var u={};function h(){}function d(){}function f(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==e&&r.call(m,i)&&(p=m);var g=f.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==L(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function A(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,i)}function D(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){A(o,n,i,a,s,"next",t)}function s(t){A(o,n,i,a,s,"throw",t)}a(void 0)}))}}var k=w.hypersignSDK,R=r("e2c9"),T=(R.sha256hashStr,{name:"Login",components:{QrcodeVue:p["a"],Loading:x.a},data:function(){return{qr_data:{},active:0,username:"",password:"",host:location.hostname,challenge:"dddd",domain:location.host,QRCodeValue:this.$route.query,credentials:{},userData:{},user:{},verifiablePresentation:"",fullPage:!0,isLoading:!1,privateKey:"3isrtEJ4gt1ZHkdUYYph1WFAtzfqAL5WM6Hh1NC2hmWnDfBypXjt5oUFdAqQdiess2vqqQ3iF6x4fDVuvLw454sn",did:"did:hs:892325a4-75c9-465c-882b-91e3ca5143c3"}},created:function(){localStorage.clear(),document.title="".concat(w.appName," - Login"),this.connection=new WebSocket(this.$config.websocketUrl),console.log(this.$config.websocketUrl),this.connection.onopen=function(){console.log("Socket connection is open")},this.isLoading=!0;var t=this;this.connection.onmessage=function(e){var r=e.data,n=JSON.parse(r);if(console.log(n),"init"==n.op)t.isLoading=!1,n.data["provider"]="google",t.value=JSON.stringify(n.data),t.qr_data="".concat(t.$config.webWalletAddress,"/deeplink?url=").concat(t.value),console.log(t.qr_data);else if("end"==n.op){t.connection.close();var i=n.data.hypersign.data.accessToken,o=n.data.hypersign.data.refreshToken;localStorage.setItem("authToken",i),localStorage.setItem("refreshToken",o),null!=localStorage.getItem("authToken")&&(this.walletWindow&&this.walletWindow.close(),null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("dashboard"))}else"reload"==n.op&&(t.QRRefresh=!0,t.qr_data=null,t.connection.close(4001,n.data.clientId),t.$router.go())},this.connection.onerror=function(t){console.log("Websocket connection error ",t)}},mounted:function(){this.clean()},methods:{push:function(t){this.$router.push(t)},openWallet:function(){""!=this.value&&(this.walletWindow=window.open("".concat(this.$config.webWalletAddress,"/deeplink?url=").concat(this.value),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"))},clean:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData")},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},gotosubpage:function(t){P.$router.push("".concat(t))},generatePresentation:function(){var t=D(O().mark((function t(){var e,r,n,i;return O().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("keys")),this.user.privateKey=e.privateKeyBase58,this.user.id=e.publicKey.id,this.user.did=this.user.id.split("#")[0],r=JSON.parse(localStorage.getItem("credential")),this.user.name=r["credentialSubject"]["Name"],this.user.email=r["credentialSubject"]["Email"],r){t.next=9;break}throw new Error("VC is null");case 9:return t.next=11,k.credential.generatePresentation(r,this.user.id);case 11:return n=t.sent,this.notifySuccess("Presentation generated"),t.next=15,k.credential.signPresentation(n,this.user.id,this.user.privateKey,this.challenge.challenge);case 15:i=t.sent,this.notifySuccess("Presentation signed"),this.verifiablePresentation=JSON.stringify(i),localStorage.removeItem("credential"),localStorage.removeItem("keys");case 20:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),downloadPresentation:function(){var t=D(O().mark((function t(){return O().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.generatePresentation();case 2:this.forceFileDownload(this.verifiablePresentation,"vp.json");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),forceFileDownload:function(t,e){var r=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=r,n.setAttribute("download",e),document.body.appendChild(n),n.click()},readFile:function(t,e){var r=new FileReader;r.onload=e,r.readAsText(t)},onFileChange:function(t){var e=t.target.files[0];this.readFile(e,this.onfileLoadSuccess)},onfileLoadSuccess:function(t){var e=JSON.parse(t.target.result);e||this.notifyErr("Incorrect file"),e["type"]&&e["type"].find((function(t){return"VerifiableCredential"==t}))?(localStorage.removeItem("credential"),localStorage.setItem("credential",JSON.stringify(e))):e["privateKeyBase58"]?(localStorage.removeItem("keys"),localStorage.setItem("keys",JSON.stringify(e))):this.notifyErr("Invalid file")},login:function(){var t=D(O().mark((function t(e){var r,n,i,o=this;return O().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isLoading=!0,r="",n={"Content-Type":"application/json"},r="".concat(this.$config.studioServer.BASE_URL,"api/auth/login_pki?type=PKI"),n["x-auth-token"]=this.challenge.JWTChallenge,t.next=8,this.generatePresentation();case 8:i={fname:this.user.name,email:this.user.email,publicKey:this.user.did,proof:this.verifiablePresentation,challenge:this.challenge?this.challenge.challenge:"",domain:this.domain},console.log(".............before fetch"),fetch(r,{body:JSON.stringify(i),method:"POST",headers:n}).then((function(t){return t.json()})).then((function(t){if(o.isLoading=!1,t&&500==t.status)return o.notifyErr("Error:  ".concat(t.error));localStorage.setItem("authToken",t.message.jwtToken),t.message.user["privateKey"]=o.user.privateKey,localStorage.setItem("user",JSON.stringify(t.message.user)),null!=localStorage.getItem("authToken")&&(null!=o.$route.params.nextUrl?o.$router.push(o.$route.params.nextUrl):o.$router.push("dashboard"))})),t.next=19;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0),this.clean(),this.isLoading=!1,this.notifyErr("Error: ".concat(t.t0.message));case 19:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(e){return t.apply(this,arguments)}return e}()}}),N=T,I=(r("7c48"),Object(c["a"])(N,d,f,!1,null,"20e204ee",null)),j=I.exports,U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"col-md-3",staticStyle:{"font-size":"small",color:"grey","margin-left":"36%"}},[e("form",{staticStyle:{padding:"6px"},attrs:{action:"#"}},[e("b-card",{staticStyle:{padding:"40px"},attrs:{"no-body":""}},[e("h4",[t._v("Sign Up")]),e("hr"),e("div",{staticClass:"row"},[e("form",{staticClass:"col-md-12",attrs:{action:"#"}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"floatLeft"},[t._v("Name:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fullName,expression:"fullName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter name"},domProps:{value:t.fullName},on:{input:function(e){e.target.composing||(t.fullName=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"floatLeft"},[t._v("Email:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"floatLeft"},[t._v("Hypersign DID ("),e("a",{attrs:{href:"".concat(t.$config.explorer.BASE_URL),target:"_blank"}},[t._v("Get a DID")]),t._v("):")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.did,expression:"did"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter DID (did:hs:...)"},domProps:{value:t.did},on:{input:function(e){e.target.composing||(t.did=e.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-3",attrs:{hidden:""}},[e("button",{staticClass:"btn btn-primary btn-sm floatLeft",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.downloadPresentation()}}},[t._v("View Proof")])]),e("div",{staticClass:"col-sm-3"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.signup()}}},[t._v("Signup")])]),e("div",{staticClass:"col-md-9 floatRight"},[t._v("\n            Back to\n            "),e("a",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:function(e){return t.push("login")}}},[t._v("Login")])])])])],1)])],1)},$=[],V=r("a18f"),B=r.n(V);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}var G,H=void 0;function M(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */W=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new w(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return x()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var u={};function h(){}function d(){}function f(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==e&&r.call(m,i)&&(p=m);var g=f.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==F(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function J(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,i)}function q(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){J(o,n,i,a,s,"next",t)}function s(t){J(o,n,i,a,s,"throw",t)}a(void 0)}))}}var K=r("e2c9"),z=(K.sha256hashStr,G={name:"Register",components:{}},M(G,"components",{Loading:x.a}),M(G,"data",(function(){return{active:0,fullName:"",email:"",phno:"",publicKey:"",username:"",password:"",host:location.hostname,keys:{},did:"",isLoading:!1,fullPage:!0}})),M(G,"created",(function(){})),M(G,"methods",{push:function(t){this.$router.push(t)},gotosubpage:function(t){H.$router.push("".concat(t))},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},signup:function(){var t=q(W().mark((function t(){var e,r,n,i;return W().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,""!=this.email&&""!=this.name&&""!=this.did){t.next=4;break}throw new Error("All fields are mandatory");case 4:return e={fname:this.fullName,email:this.email,publicKey:this.did},r="".concat(this.$config.studioServer.BASE_URL,"api/auth/register"),t.next=8,B()(r,{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}});case 8:return n=t.sent,t.next=11,n.json();case 11:if(i=t.sent,500!=i.status){t.next=15;break}throw this.isLoading=!1,new Error(i.error);case 15:this.isLoading=!1,alert("An email has been sent to you. Please click on the link to verify and download HypersignAuth credentials."),this.isLoading=!1,this.$router.push("login"),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 25:case"end":return t.stop()}}),t,this,[[1,21]])})));function e(){return t.apply(this,arguments)}return e}()}),G),Q=z,Y=(r("70c4"),Object(c["a"])(Q,U,$,!1,null,"c9b8fd9e",null)),X=Y.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home marginLeft marginRight"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[e("Info",{attrs:{message:t.description}}),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Issue Credential")])],1),e("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("form",{staticStyle:{"max-height":"300px",overflow:"auto",padding:"5px"}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.holderDid,expression:"holderDid"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Issued To (did:hs:...)"},domProps:{value:t.holderDid},on:{input:function(e){e.target.composing||(t.holderDid=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("b-form-select",{staticClass:"mt-3",attrs:{options:t.selectOptions,size:"md"},on:{change:function(e){return t.OnSchemaSelectDropDownChange(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),t._l(t.issueCredAttributes,(function(r){return e("div",{key:r.name,staticClass:"form-group"},[e("label",[t._v(t._s(r.name))]),e("input",{directives:[{name:"model",rawName:"v-model",value:r.value,expression:"attr.value"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter attribute value"},domProps:{value:r.value},on:{input:function(e){e.target.composing||t.$set(r,"value",e.target.value)}}})])}))],2),e("hr"),e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.issueCredential()}}},[t._v("Issue")])]),t.isCredentialIssued?e("div",{staticClass:"col-md-6",staticStyle:{padding:"30px"}},[e("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[e("qrcode-vue",{attrs:{value:t.signedVerifiableCredential,size:200,level:"H"}}),e("label",{staticClass:"title"},[t._v("Scan the QR code using Hypersign Wallet!")])],1),e("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[e("p"),e("h5",[t._v("OR")]),e("button",{staticClass:"btn btn-link",on:{click:function(e){return t.downloadCredentials()}}},[t._v("Download Credential")])])]):t._e()])])])],1)],1)]),e("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),e("tbody",t._l(t.vcList,(function(r){return e("tr",{key:r},[e("th",{attrs:{scope:"row"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:r.id}}),e("label",{staticClass:"custom-control-label",attrs:{for:r.id}},[e("a",{attrs:{href:"".concat(r.vc_id,":")}},[t._v(t._s(r.vc.id))])])])]),e("td",[t._v(t._s(r.schemaId))]),e("td",[t._v(t._s(r.subjectDid))]),e("td",[t._v(t._s(r.vc.expirationDate))]),e("td",[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.generateCred("".concat(r._id))}}},[t._v(" Link ")])])])})),0)])])])],1)},tt=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",[t._v("id")]),e("th",[t._v("schemaId")]),e("th",[t._v("subjectDid")]),e("th",[t._v("expirationDate")])])])}],et=function(){var t=this,e=t._self._c;return e("p",{staticClass:"message"},[t._v("\n    "+t._s(t.message)+"\n")])},rt=[],nt={name:"Info",props:["message"],mounted:function(){}},it=nt,ot=(r("7d33"),Object(c["a"])(it,et,rt,!1,null,"7080b038",null)),at=ot.exports;function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}var ct=void 0;function lt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */lt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new w(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return x()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var u={};function h(){}function d(){}function f(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==e&&r.call(m,i)&&(p=m);var g=f.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==st(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function ut(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,i)}function ht(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){ut(o,n,i,a,s,"next",t)}function s(t){ut(o,n,i,a,s,"throw",t)}a(void 0)}))}}function dt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ft=w.hypersignSDK,pt={name:"IssueCredential",components:{QrcodeVue:p["a"],Info:at},data:function(){var t;return t={authToken:localStorage.getItem("authToken"),description:'An issuer can issue a credential to a subject (or holder) which can be verfied by the verifier independently, without having him to connect with the issuer. They are a part of our daily lives; driver\'s licenses are used to assert that we are capable of operating a motor vehicle, university degrees can be used to assert our level of education, and government-issued passports enable us to travel between countries.  For example: an airline company can issue a flight ticket ("verfiable credential") using schema (issued by DGCA) to the passenger.',active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{}},dt(t,"authToken",localStorage.getItem("authToken")),dt(t,"selectOptions",[{value:null,text:"Please select a schema"}]),dt(t,"schemaMap",{}),dt(t,"vcList",[]),dt(t,"schemaList",[]),dt(t,"fullPage",!0),dt(t,"isLoading",!1),dt(t,"holderDid",""),dt(t,"schema_page",1),dt(t,"QrData",{QRType:"ISSUE_CREDENTIAL",serviceEndpoint:"",schemaId:"",appDid:"",appName:"Hypersign Studio",challenge:"",provider:"",data:""}),t},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.getList("SCHEMA"),this.getList("CREDENTIAL")},beforeRouteEnter:function(t,e,r){r((function(t){t.prevRoute=e}))},methods:{generateCred:function(){var t=ht(lt().mark((function t(e){var r,n,i,o,a;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={id:e},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},i=this.$config.studioServer.BASE_URL+this.$config.studioServer.ACCPCT_CRED_EP,console.log(i),t.next=6,B()(i,n);case 6:return o=t.sent,t.next=9,o.json();case 9:a=t.sent,console.log(a),"".concat(this.$config.webWalletAddress,"/deeplink?url=").concat(a),console.log(a.url),this.notifySuccess("Cred Generated Successfully"),setTimeout((function(){alert("Send this url to the credential owner \n ".concat(a.url))}),1e3);case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"))},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},getList:function(){var t=ht(lt().mark((function t(e){var r,n,i,o,a,s=this;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="",n={},"SCHEMA"===e?(r="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SCHEMA_LIST_EP,"?page=").concat(this.schema_page,"&limit=10"),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}}):(r="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_LIST_EP),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}}),t.next=5,B()(r,n);case 5:return i=t.sent,t.next=8,i.json();case 8:if(o=t.sent,!o||500!=o.status){t.next=11;break}return t.abrupt("return",this.notifyErr("Error:  ".concat(o.error)));case 11:"SCHEMA"===e?(console.log(o),a=o.schemaList,a&&a.length>0&&a.forEach(function(){var t=ht(lt().mark((function t(e){var r,n,i;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.did==s.user.id){t.next=2;break}return t.abrupt("return");case 2:if(console.log(e),"Registered"!==e.status){t.next=15;break}return r="".concat(s.$config.nodeServer.BASE_URL_REST).concat(s.$config.nodeServer.SCHEMA_GET_REST).concat(e.schemaId,":"),console.log(r),t.next=8,B()(r);case 8:return n=t.sent,t.next=11,n.json();case 11:i=t.sent,s.schemaMap[e.schemaId]=JSON.parse(i.schema[0].schema.properties),i.schema[0].schema.required.length>0&&i.schema[0].schema.required.forEach((function(t){s.schemaMap[e.schemaId][t].required=!0})),s.selectOptions.push({value:e.schemaId,text:"".concat(e.schemaId," | ").concat(e.status)});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):this.vcList=o.credList;case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),fetchData:function(t,e){var r=this;B()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return r.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){ct.$router.push("".concat(t))},addBlankAttrBox:function(){" "!=this.attributeName&&(this.attributes.push(this.attributeName),this.attributeName=" ")},onSchemaOptionChange:function(t){this.attributes=[],this.issueCredAttributes=[],this.selected=null,this.credentialName=""},OnSchemaSelectDropDownChange:function(t){if(console.log(t),t){this.issueCredAttributes=[];var e=this.issueCredAttributes.length;for(var r in console.log(this.schemaMap[t]),this.schemaMap[t])this.issueCredAttributes.push({id:e+t,type:r.type,name:r,required:!0===r.required,value:""})}else this.issueCredAttributes=[]},forceFileDownload:function(t,e){var r=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=r,n.setAttribute("download",e),document.body.appendChild(n),n.click()},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiableCredential),"vc.json")},generateAttributeMap:function(){var t=[];return this.issueCredAttributes.length>0&&this.issueCredAttributes.forEach((function(e){t[e.name]=e.value})),console.log(t),t},getCredentials:function(t){console.log(this.schemaMap[this.selected]);var e="".concat(this.$config.nodeServer.BASE_URL_REST).concat(this.$config.nodeServer.SCHEMA_GET_REST,"/").concat(this.selected,":");return ft.credential.generateCredential(e,{subjectDid:this.holderDid,issuerDid:this.user.publicKey,expirationDate:(new Date).toISOString(),attributesMap:t}).then((function(t){return t}))},signCredentials:function(t){return ft.credential.signCredential(t,this.user.publicKey,this.user.privateKey).then((function(t){return t}))},issueCredential:function(){var t=ht(lt().mark((function t(){var e,r,n,i,o,a,s,c,l=this;return lt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.isLoading=!0,""!=this.holderDid){t.next=4;break}throw new Error("Please enter the holder did");case 4:if(null!=this.selected){t.next=6;break}throw new Error("Please select a schema");case 6:return t.next=8,this.generateAttributeMap();case 8:e=t.sent,r=Object.assign({},e),n=this.selected,i=this.user.id,o=this.holderDid,a="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_ISSUE_EP),console.log(a),s={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)},c={fields:r,schemaId:n,issuerDid:i,subjectDid:o},this.QrData.data=c,B()(a,{method:"POST",headers:s,body:JSON.stringify({QR_DATA:this.QrData})}).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.QR_DATA,r="".concat(l.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(e));console.log(r),l.openWallet(r)})),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](0),this.isLoading=!1,this.notifyErr("Error: ".concat(t.t0.message));case 25:case"end":return t.stop()}}),t,this,[[0,21]])})));function e(){return t.apply(this,arguments)}return e}()}},vt=pt,mt=(r("5c15"),Object(c["a"])(vt,Z,tt,!1,null,"d564af9c",null)),gt=mt.exports,yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home marginLeft marginRight"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[e("Info",{attrs:{message:t.description}}),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Generate Presentation")])],1),e("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("form",{staticStyle:{"max-height":"300px","min-height":"300px",overflow:"auto",padding:"5px"}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"floatLeft"},[t._v("Upload Verifiable Credential (s):")]),e("input",{ref:"vcFile",staticClass:"form-control",attrs:{type:"file",placeholder:""},on:{change:t.onFileChange}})]),t._l(t.issueCredAttributes,(function(r){return e("div",{key:r.name,staticClass:"form-group"},[e("label",[t._v(t._s(r.name))]),e("input",{directives:[{name:"model",rawName:"v-model",value:r.value,expression:"attr.value"}],staticClass:"form-control",attrs:{text:"",placeholder:"Enter attribute value"},domProps:{value:r.value},on:{input:function(e){e.target.composing||t.$set(r,"value",e.target.value)}}})])}))],2),e("hr"),e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.generatePresentation()}}},[t._v("Generate")])]),t.isCredentialIssued?e("div",{staticClass:"col-md-6",staticStyle:{padding:"30px"}},[e("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[e("qrcode-vue",{attrs:{value:t.signedVerifiablePresentation,size:200,level:"H"}}),e("label",{staticClass:"title"},[t._v("Scan the QR code using Hypersign Wallet!")])],1),e("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[e("p"),e("h5",[t._v("OR")]),e("button",{staticClass:"btn btn-link",on:{click:function(e){return t.downloadCredentials()}}},[t._v("Download Presentation")])])]):t._e()])])])],1)],1)]),e("div",{staticClass:"row",staticStyle:{"margin-top":"1%"}},[e("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],attrs:{variant:"link"}},[t._v("Verify Presentation")])],1),e("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-2"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("form",{staticStyle:{"max-height":"450px","min-height":"450px",overflow:"auto",padding:"5px"}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"floatLeft"},[t._v("Upload Verifiable Presentation:")]),e("input",{ref:"vpFile",staticClass:"form-control",attrs:{type:"file",placeholder:""},on:{change:t.onFileChange}})])]),e("div",{staticClass:"form-grop"},[e("hr"),e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.viewPresentation()}}},[t._v("View")]),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){return t.clear()}}},[t._v("Clear")])])]),e("div",{staticClass:"col-md-6"},[e("form",{staticClass:"card",staticStyle:{padding:"5px"}},[e("div",{staticClass:"card-header",staticStyle:{padding:"5px"}},[e("a",{attrs:{href:t.presentationDetails.credentialType.url,target:"_blank"}},[t._v(t._s(t.presentationDetails.credentialType.name))])]),e("div",{staticClass:"form-group",staticStyle:{"max-height":"400px","min-height":"400px",overflow:"auto",padding:"5px"}},[e("div",{staticClass:"card-body"},[e("ul",{staticClass:"list-group",staticStyle:{"font-size":"smaller"}},[e("li",{staticClass:"list-group-item"},[e("label",[e("b",[t._v("Issuer  DID:")]),t._v(" "+t._s(t.presentationDetails.issuerDid))])]),e("li",{staticClass:"list-group-item"},[e("label",[e("b",[t._v("Subject DID:")]),t._v(" "+t._s(t.presentationDetails.holderDid))])]),e("li",{staticClass:"list-group-item"},[e("label",[e("b",[t._v("Issuance Date:")]),t._v(" "+t._s(t.presentationDetails.issuanceDate))])]),e("li",{staticClass:"list-group-item"},[e("label",[e("b",[t._v("Expiration Date:")]),t._v(" "+t._s(t.presentationDetails.expirationDate))])]),e("li",{staticClass:"list-group-item"},[e("b",[t._v("Claims:")]),t.presentationDetails.claim?e("a",{staticStyle:{color:"blue","text-decoration":"underline","padding-left":"5px"},on:{click:function(e){return t.showClaims()}}},[t._v("View / Hide claims")]):t._e(),t.isClaims?e("ul",{staticClass:"list-group",staticStyle:{"padding-left":"10%","padding-top":"2%"}},t._l(t.presentationDetails.claim,(function(r,n){return e("li",{staticClass:"list-group-item"},[e("b",[t._v(t._s(n))]),t._v(": "+t._s(r)+"\n                          ")])})),0):t._e()])])])]),e("div",{staticClass:"form-group",attrs:{hidden:""}},[e("label",{staticClass:"floatLeft"},[t._v("Presentation Details:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.presentationDetails,expression:"presentationDetails"}],staticClass:"form-control",attrs:{rows:"10",cols:"20",hidden:""},domProps:{value:t.presentationDetails},on:{input:function(e){e.target.composing||(t.presentationDetails=e.target.value)}}})])]),e("div",{staticClass:"form-grop"},[e("hr"),e("button",{staticClass:"btn btn-outline-success btn-sm",on:{click:function(e){return t.verifyPresentation()}}},[t._v("Verify")])])])])])])],1)])])],1)},bt=[];function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}var St=void 0;function Et(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Et=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new w(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return x()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var u={};function h(){}function d(){}function f(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==e&&r.call(m,i)&&(p=m);var g=f.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_t(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function wt(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,i)}function Ct(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){wt(o,n,i,a,s,"next",t)}function s(t){wt(o,n,i,a,s,"throw",t)}a(void 0)}))}}var xt=w.hypersignSDK,Lt={name:"Presentation",components:{QrcodeVue:p["a"],Info:at},data:function(){return{description:"The subject (or holder) generates verifiable presentation from one or more verifiable       credentials, issued by one or more issuers, that is shared with a specific verifier.       A verifiable presentation is a tamper-evident presentation encoded in such a way that       authorship of the data can be trusted after a process of cryptographic verification.       Certain types of verifiable presentations might contain data that is synthesized from,       but do not contain, the original verifiable credentials for example, in order to proof the       subject that he/she is an adult, she/he does not have to tell his/her actual age       (i.e. Zero knowledge proof). The airline passenger might not have to show the complete ticket      to the secruity personal to pass the security check. The passenger will have ability to show       just one document (the verifiable presentation) derived from his passport and air ticket to      show at the security check.",active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{},authToken:localStorage.getItem("authToken"),selectOptions:[{value:null,text:"Please select a schema"}],schemaMap:{},vcList:[],schemaList:[],fullPage:!0,isLoading:!1,holderDid:"did:hs:8b915133-cb8b-4151-9a63-1b91f702297f",signedVerifiablePresentation:{},presentationDetails:{credentialType:{}},isClaims:!1}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t)},beforeRouteEnter:function(t,e,r){r((function(t){t.prevRoute=e}))},methods:{showClaims:function(){this.isClaims?this.isClaims=!1:this.isClaims=!0},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},fetchData:function(t,e){var r=this;B()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return r.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){St.$router.push("".concat(t))},addBlankAttrBox:function(){" "!=this.attributeName&&(this.attributes.push(this.attributeName),this.attributeName=" ")},onSchemaOptionChange:function(t){this.attributes=[],this.issueCredAttributes=[],this.selected=null,this.credentialName=""},OnSchemaSelectDropDownChange:function(t){var e=this;if(t){this.issueCredAttributes=[];var r=this.issueCredAttributes.length;this.schemaMap[t].forEach((function(n){e.issueCredAttributes.push({id:r+t,type:"text",name:n,value:""})}))}else this.issueCredAttributes=[]},forceFileDownload:function(t,e){var r=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=r,n.setAttribute("download",e),document.body.appendChild(n),n.click()},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiablePresentation),"vp.json")},onfileLoadSuccess:function(t){var e=JSON.parse(t.target.result);e||this.notifyErr("Incorrect file");var r=e["type"];r.find((function(t){return"VerifiableCredential"==t}))?(localStorage.removeItem("credential"),localStorage.setItem("credential",JSON.stringify(e))):r.find((function(t){return"VerifiablePresentation"==t}))?(localStorage.removeItem("presentation"),localStorage.setItem("presentation",JSON.stringify(e))):this.notifyErr("Invalid file")},readFile:function(t,e){var r=new FileReader;r.onload=e,r.readAsText(t)},onFileChange:function(t){var e=t.target.files[0];this.readFile(e,this.onfileLoadSuccess)},getCredentials:function(t){var e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.SCHEMA_GET_EP).concat(this.selected);return xt.credential.generateCredential(e,{subjectDid:this.holderDid,issuerDid:this.user.publicKey,expirationDate:(new Date).toISOString(),attributesMap:t}).then((function(t){return t}))},signCredentials:function(t){return xt.credential.signCredential(t,this.user.publicKey,this.user.privateKey).then((function(t){return t}))},generatePresentation:function(){var t=Ct(Et().mark((function t(){var e,r,n;return Et().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,e=JSON.parse(localStorage.getItem("credential")),e){t.next=5;break}throw new Error("Please select verifiable credential file");case 5:return t.next=7,xt.credential.generatePresentation(e,this.user.id);case 7:return r=t.sent,t.next=10,xt.credential.signPresentation(r,this.user.id,this.user.privateKey,"test_challenge");case 10:n=t.sent,this.signedVerifiablePresentation=n,this.isLoading=!1,this.isCredentialIssued=!0,this.notifySuccess("Presentation generated and sigend"),localStorage.removeItem("credential"),t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 22:case"end":return t.stop()}}),t,this,[[1,18]])})));function e(){return t.apply(this,arguments)}return e}(),viewPresentation:function(){this.isLoading=!0;try{var t=JSON.parse(localStorage.getItem("presentation"));if(!t)throw new Error("Please select verifiable presentation file");var e=t.verifiableCredential[0];this.presentationDetails={},this.presentationDetails.credentialType={name:e.type[1],url:e["@context"][1]["hsscheme"]},this.presentationDetails.issuerDid=e.issuer,this.presentationDetails.holderDid=e.credentialSubject.id,this.presentationDetails.issuanceDate=e.issuanceDate,this.presentationDetails.expirationDate=e.expirationDate,this.presentationDetails.claim=e.credentialSubject}catch(r){this.isLoading=!1,this.notifyErr(r.message)}},clear:function(){this.presentationDetails="",localStorage.removeItem("presentation"),localStorage.removeItem("credential"),this.$refs.vpFile.value=null,this.$refs.vcFile.value=null,this.signedVerifiablePresentation={},this.isCredentialIssued=!1},verifyPresentation:function(){var t=Ct(Et().mark((function t(){var e,r,n;return Et().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,e=JSON.parse(localStorage.getItem("presentation")),e){t.next=5;break}throw new Error("Please select verifiable presentation file");case 5:return r=e.verifiableCredential[0],t.next=8,xt.credential.verifyPresentation({presentation:e,challenge:"test_challenge",issuerDid:r.issuer,holderDid:r.credentialSubject.id});case 8:n=t.sent,n.verified?this.notifySuccess("Presentation verified"):this.notifyErr("Presentation can not verified"),this.isLoading=!1,this.clear(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 18:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(){return t.apply(this,arguments)}return e}()}},Pt=Lt,Ot=(r("9ec8"),Object(c["a"])(Pt,yt,bt,!1,null,"5d04b7d4",null)),At=Ot.exports,Dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home marginRight marginLeft"},[e("h3",{staticClass:"leftAlign"},[t._v("Welcome, "+t._s(t.user.name)+" !")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("Profile")],1),e("div",{staticClass:"col-md-6"},[e("Dashboard")],1)])])},kt=[],Rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row",staticStyle:{padding:"10px"}},[e("div",{staticClass:"col-md-6",staticStyle:{"margin-left":"40%"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v("\n            Network Details "),!0===t.networkStatus.result.listening?e("span",{staticClass:"dot"}):t._e()]),e("div",{staticClass:"card-body leftAlign"},[e("p",[t._v("NETWORK\n            ")]),e("p",{staticClass:"fVal"},[t._v(t._s(t.networkStatus.result.peers[0].node_info.network.toUpperCase()+"  NETWORK"))]),e("p",[t._v("NODE URL\n            ")]),e("p",{staticClass:"fVal"},[e("a",{attrs:{href:t.networkStatus.nodeUrl,target:"_blank"}},[t._v(t._s(this.$config.nodeServer.BASE_URL))])]),e("p",[t._v("EXPLORER URL\n            ")]),e("p",{staticClass:"fVal"},[e("a",{attrs:{href:t.networkStatus.explorerUrl,target:"_blank"}},[t._v(t._s(this.$config.explorer.BASE_URL))])]),e("p",[t._v("DID COUNT\n            ")]),e("p",{staticClass:"fVal"},[t._v(t._s(t.networkStatus.didCount))]),e("p",[t._v("SCHEMA COUNT\n            ")]),e("p",{staticClass:"fVal"},[t._v(t._s(t.networkStatus.schemaCount))])])])])])},Tt=[];function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}var It=void 0;function jt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new w(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return x()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var u={};function h(){}function d(){}function f(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==e&&r.call(m,i)&&(p=m);var g=f.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Nt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function Ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(r),!0).forEach((function(e){Vt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bt(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,i)}function Ft(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Bt(o,n,i,a,s,"next",t)}function s(t){Bt(o,n,i,a,s,"throw",t)}a(void 0)}))}}var Gt={name:"PanelPage",mounted:function(){},components:{},data:function(){return{active:0,networkStatus:{result:{listening:"false",listeners:[],n_peers:"",peers:[{}]},status:"DOWN",nodeUrl:"",explorerUrl:this.$config.explorer.BASE_URL,schemaCount:"0",didCount:"0"}}},created:function(){var t=Ft(jt().mark((function t(){var e,r=this;return jt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.NETWORK_STATUS_EP),t.next=3,fetch(e).then((function(t){return t.json()})).then((function(t){r.networkStatus=$t({},t),console.log(r.networkStatus.result.peers[0])})).catch((function(t){return alert("Error: ".concat(t.message))}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{gotosubpage:function(t){It.$router.push("".concat(t))}}},Ht=Gt,Mt=(r("7016"),Object(c["a"])(Ht,Rt,Tt,!1,null,"7946f76c",null)),Wt=Mt.exports,Jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",staticStyle:{"margin-top":"2%","margin-bottom":"7%"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body tile"},[t._v(t._s(t.schemaCount))]),e("div",{staticClass:"card-header"},[t._v("Authored Schemas")])])]),e("div",{staticClass:"col-md-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body tile"},[t._v(t._s(t.credentialCount))]),e("div",{staticClass:"card-header"},[t._v("Issued Credentials")])])])])]),e("div",{staticClass:"col-md-10 leftAlign"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-8",staticStyle:{"flex-wrap":"wrap",padding:"20px"}},[e("p",[t._v("DID")]),e("p",{staticClass:"fVal"},[e("a",{attrs:{href:"".concat(t.$config.nodeServer.BASE_URL).concat(t.$config.nodeServer.DID_RESOLVE_EP)+t.user.id,target:"_blank"}},[t._v(t._s(t.user.id))])]),e("p",[t._v("Email")]),e("p",{staticClass:"fVal"},[t._v(t._s(t.user.email))]),t.user.phoneNumber?e("p",[t._v("Phone Number: "+t._s(t.user.phoneNumber))]):t._e()])])])])])])},qt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-4"},[e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"https://cdn1.iconfinder.com/data/icons/female-avatars-vol-1/256/female-portrait-avatar-profile-woman-sexy-afro-2-512.png",alt:"John"}})])}],Kt=void 0;function zt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(r),!0).forEach((function(e){Yt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xt={name:"Profile",mounted:function(){},components:{},data:function(){return{active:0,userKeys:[],appList:[],schemaCount:0,credentialCount:0,user:{id:"",publicKey:"",email:"",phoneNumber:"",fname:""},authToken:localStorage.getItem("authToken")}},created:function(){var t=localStorage.getItem("user");this.user=Qt({},JSON.parse(t)),this.userKeys=Object.keys(this.user)},methods:{fetchData:function(t,e){return fetch(t,e).then((function(t){return t.json()})).then((function(t){return t.message})).catch((function(t){return alert("Error: ".concat(t.message))}))},pollData:function(){var t=this,e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.SCHEMA_LIST_EP),r={};this.fetchData(e).then((function(e){e&&e.length>0&&(e=e.filter((function(e){return e.owner===t.user.id})),t.schemaCount=e.length)})),e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_LIST_EP),r={method:"GET",headers:{"x-auth-token":this.authToken}},this.fetchData(e,r).then((function(e){e&&(t.credentialCount=e.count)}))},gotosubpage:function(t){Kt.$router.push("".concat(t))}}},Zt=Xt,te=(r("36b1"),Object(c["a"])(Zt,Jt,qt,!1,null,"4358bd71",null)),ee=te.exports,re=void 0,ne={name:"PanelPage",mounted:function(){},components:{Dashboard:Wt,Profile:ee},data:function(){return{appList:[],user:{},appName:"",authToken:localStorage.getItem("authToken")}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t)},methods:{notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},gotosubpage:function(t){re.$router.push("".concat(t))},logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData"),null!=this.$route.params.nextUrl?this.$router.push(this.$route.params.nextUrl):this.$router.push("/login")}}},ie=ne,oe=(r("4e9e"),Object(c["a"])(ie,Dt,kt,!1,null,"5693bf34",null)),ae=oe.exports,se=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home marginLeft marginRight"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[e("Info",{attrs:{message:t.description}}),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Create Schema")])],1),e("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group form-inline"},[e("label",{staticStyle:{"margin-right":"8%"}},[t._v("Schema Name:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.credentialName,expression:"credentialName"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter schema name"},domProps:{value:t.credentialName},on:{input:function(e){e.target.composing||(t.credentialName=e.target.value)}}})]),e("div",{staticClass:"form-group form-inline"},[e("label",{staticStyle:{"margin-right":"12%"}},[t._v("Description:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.credentialDescription,expression:"credentialDescription"}],staticClass:"form-control",attrs:{rows:"5",cols:"29",placeholder:"Enter description"},domProps:{value:t.credentialDescription},on:{input:function(e){e.target.composing||(t.credentialDescription=e.target.value)}}})]),e("div",{staticClass:"form-group form-inline"},[e("label",{staticStyle:{"margin-right":"3%"}},[t._v("Additional Properties")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.additionalProperties,expression:"additionalProperties"}],attrs:{size:"100px",type:"checkbox"},domProps:{checked:Array.isArray(t.additionalProperties)?t._i(t.additionalProperties,null)>-1:t.additionalProperties},on:{change:function(e){var r=t.additionalProperties,n=e.target,i=!!n.checked;if(Array.isArray(r)){var o=null,a=t._i(r,o);n.checked?a<0&&(t.additionalProperties=r.concat([o])):a>-1&&(t.additionalProperties=r.slice(0,a).concat(r.slice(a+1)))}else t.additionalProperties=i}}})])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group form-inline"},[e("label",{staticStyle:{"margin-right":"5%"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeName,expression:"attributeName"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter attribute name"},domProps:{value:t.attributeName},on:{input:function(e){e.target.composing||(t.attributeName=e.target.value)}}})]),e("div",{staticClass:"form-group form-inline"},[e("label",{staticStyle:{"margin-right":"5%"}},[t._v("Type")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeTypes,expression:"attributeTypes"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter attribute Type (eg. String)"},domProps:{value:t.attributeTypes},on:{input:function(e){e.target.composing||(t.attributeTypes=e.target.value)}}})]),e("div",{staticClass:"form-group form-inline"},[e("label",{staticStyle:{"margin-right":"5%"}},[t._v("Format")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeFormat,expression:"attributeFormat"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter attribute Format (eg email)"},domProps:{value:t.attributeFormat},on:{input:function(e){e.target.composing||(t.attributeFormat=e.target.value)}}})]),e("div",{staticClass:"form-group form-inline"},[e("label",{staticStyle:{"margin-right":"5%"}},[t._v("Required")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeRequired,expression:"attributeRequired"}],staticClass:"form-control",attrs:{type:"checkbox",size:"200px"},domProps:{checked:Array.isArray(t.attributeRequired)?t._i(t.attributeRequired,null)>-1:t.attributeRequired},on:{change:function(e){var r=t.attributeRequired,n=e.target,i=!!n.checked;if(Array.isArray(r)){var o=null,a=t._i(r,o);n.checked?a<0&&(t.attributeRequired=r.concat([o])):a>-1&&(t.attributeRequired=r.slice(0,a).concat(r.slice(a+1)))}else t.attributeRequired=i}}})]),e("a",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"5%","border-radius":"30px",color:"white"},on:{click:function(e){return t.addBlankAttrBox()}}},[t._v("Add +")])]),e("div",{staticClass:"form-group",staticStyle:{"min-height":"150px","max-height":"150px",overflow:"auto"}},t._l(t.attributes,(function(r){return e("div",{key:r.type},[e("div",{staticClass:"sm-tiles"},[t._v("\n                      "+t._s(r.name)+"\n                      "),e("span",[t._v("x")])])])})),0)])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("hr"),e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.createSchema()}}},[t._v("Create")])])])])])],1)],1)]),e("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),e("tbody",t._l(t.schemaList,(function(r){return e("tr",{key:r},[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{id:r._id}}),e("label",{staticClass:"custom-control-label",attrs:{for:r.id}},[e("a",{attrs:{href:"".concat(t.$config.nodeServer.BASE_URL_REST).concat(t.$config.nodeServer.SCHEMA_GET_REST).concat(r.schemaId,":"),target:"_blank"}},[t._v(t._s(r.schemaId))])])])]),e("td",{staticStyle:{"word-wrap":"break-word","min-width":"200px","max-width":"200px"}},[t._v(t._s(r.transactionHash))]),e("td",[t._v(t._s(r.status))]),e("td",[t._v(t._s(r.did))])])})),0)]),e("button",{staticClass:"btn btn-outline-warning btn-sm",on:{click:function(e){return t.fetchSchemasPrev()}}},[t._v("Prev")]),e("button",{staticClass:"btn btn-outline-warning btn-sm",on:{click:function(e){return t.fetchSchemasNext()}}},[t._v(" Next ")])])])],1)},ce=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",[t._v("id")]),e("th",[t._v("Txn Hash")]),e("th",[t._v("status")]),e("th",[t._v("author")])])])}],le=void 0;function ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function he(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(r),!0).forEach((function(e){de(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function de(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var fe={name:"IssueCredential",components:{QrcodeVue:p["a"],Info:at},data:function(){return{description:"Credential Schema defines what information will go inside a verifiable credential. For example: Directorate General of Civil Aviation (DGCA) can define a schema (or format) for flights tickets, being issued by all airline companies in India.",active:0,host:location.hostname,user:{},page:1,prevRoute:null,attributeName:"",attributeTypes:"",attributeFormat:"",attributeRequired:!1,attributes:[],issueCredAttributes:[],additionalProperties:!1,showSchema:!0,radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{},authToken:localStorage.getItem("authToken"),selectOptions:[{value:null,text:"Please select a schema"}],schemaMap:{},schemaList:[],credentialDescription:"",fullPage:!0,isLoading:!1,QrData:{QRType:"ISSUE_SCHEMA",serviceEndpoint:"",schemaId:"",appDid:"",appName:"Hypersign Studio",challenge:"",provider:"",data:""}}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.fetchSchemasPrev()},beforeRouteEnter:function(t,e,r){r((function(t){t.prevRoute=e}))},methods:{notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},fetchSchemasPrev:function(){var t=this;this.page-=1,this.page<1&&(this.page=1);var e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SCHEMA_LIST_EP,"?page=").concat(this.page,"&limit=10"),r={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};B()(e,{headers:r}).then((function(t){return t.json()})).then((function(e){if(console.log(e),200!=e.status)throw new Error(e.error);t.schemaList=e.schemaList,t.schemaList&&t.schemaList.length>0&&(t.schemaList=t.schemaList.filter((function(e){return e.did===t.user.id})))})).catch((function(e){return t.notifyErr("Error: ".concat(e.message))}))},fetchSchemasNext:function(){var t=this;this.page+=1;var e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SCHEMA_LIST_EP,"?page=").concat(this.page,"&limit=10"),r={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};B()(e,{headers:r}).then((function(t){return t.json()})).then((function(e){if(200!=e.status)throw new Error(e.error);t.schemaList=e.schemaList,t.schemaList&&t.schemaList.length>0&&(t.schemaList=t.schemaList.filter((function(e){return e.did===t.user.id})))})).catch((function(e){return t.notifyErr("Error: ".concat(e.message))}))},fetchData:function(t,e){var r=this;B()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return r.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){le.$router.push("".concat(t))},addBlankAttrBox:function(){if(console.log(this.attributeName,this.attributeTypes),""!==this.attributeName&&""!==this.attributeTypes){var t={name:this.attributeName,type:this.attributeTypes,format:this.attributeFormat,isRequired:this.attributeRequired};console.log(t),this.attributes.push(t),this.attributeName="",this.attributeTypes="",this.attributeFormat="",this.attributeRequired=!1}else this.notifyErr("Name or Type Cannot be blank")},openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"))},createSchema:function(){var t=this;if(this.isLoading=!0,""==this.credentialName)return this.notifyErr("Error: SchemaName can not be blank");if(0==this.attributes.length)return this.notifyErr("Error: Atleast one attribute is required");var e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SAVE_SCHEMA_EP),r={name:this.credentialName,author:this.user.id,fields:this.attributes,description:this.credentialDescription,additionalProperties:this.additionalProperties};this.QrData.data=r;var n=JSON.stringify(this.QrData),i="".concat(this.$config.webWalletAddress,"/deeplink?url=").concat(n);console.log(i);var o={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};B()(e,{method:"POST",body:JSON.stringify({QR_DATA:this.QrData}),headers:o}).then((function(t){return t.json()})).then((function(e){var r=e.QR_DATA;if(200===e.status){t.notifySuccess("Credential successfull created"),t.credentialName="Schema",t.schemaList.push(he({},e.schema)),console.log(r);var n="".concat(t.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(r));t.openWallet(n),console.log(n),t.isLoading=!1}else t.isLoading=!1,t.notifyErr("Error: ".concat(e.error))}))}}},pe=fe,ve=(r("516f"),Object(c["a"])(pe,se,ce,!1,null,"292f0aa9",null)),me=ve.exports;n["default"].use(h["a"]);var ge=new h["a"]({mode:"hash",routes:[{path:"/",redirect:"/studio",requiresAuth:!0},{path:"/login",redirect:"/studio/login"},{path:"/studio",redirect:"/studio/dashboard",requiresAuth:!0},{path:"/studio/login",name:"PKIIdLogin",component:j},{path:"/studio/dashboard",name:"dashboard",component:ae,meta:{requiresAuth:!0}},{path:"/studio/register",name:"register",component:X},{path:"/studio/schema",name:"schema",component:me,meta:{requiresAuth:!0}},{path:"/studio/credential",name:"credential",component:gt,meta:{requiresAuth:!0}},{path:"/studio/presentation",name:"presentation",component:At,meta:{requiresAuth:!0}}]});ge.beforeEach((function(t,e,r){if(t.matched.some((function(t){return t.meta.requiresAuth}))){var n=localStorage.getItem("authToken");if(n){var i="".concat(w.studioServer.BASE_URL,"protected");console.log(i),B()(i,{headers:{Authorization:"Bearer ".concat(n)},method:"POST"}).then((function(t){return t.json()})).then((function(e){403==e.status?r({path:"/studio/login",params:{nextUrl:t.fullPath}}):(localStorage.setItem("user",JSON.stringify(e.message)),console.log(e),r())})).catch((function(e){console.log(e),r({path:"/studio/login",params:{nextUrl:t.fullPath}})}))}else r({path:"/studio/login",params:{nextUrl:t.fullPath}})}else r()}));var ye=ge,be=r("5f5b"),_e=r("ee98"),Se=r.n(_e);r("f9e3"),r("2dd8");n["default"].config.productionTip=!1,n["default"].use(be["a"]),n["default"].use(Se.a),n["default"].prototype.$config=w,new n["default"]({router:ye,render:function(t){return t(u)}}).$mount("#app")},"57ec":function(t,e,r){},"5c15":function(t,e,r){"use strict";r("9730")},6:function(t,e){},7:function(t,e){},7016:function(t,e,r){"use strict";r("57ec")},"70c4":function(t,e,r){"use strict";r("99f5")},"75b6":function(t,e,r){},"7c48":function(t,e,r){"use strict";r("41fd")},"7d33":function(t,e,r){"use strict";r("75b6")},8:function(t,e,r){t.exports=r("56d7")},9:function(t,e){},"91b2":function(t,e,r){},9730:function(t,e,r){},"99f5":function(t,e,r){},"9e38":function(t,e,r){},"9ec8":function(t,e,r){"use strict";r("91b2")},beb2:function(t,e,r){"use strict";r("9e38")},dd96:function(t,e,r){},df4f:function(t,e,r){},e0b8:function(t,e,r){},e2c9:function(t,e,r){var n=r("69f2"),i=r("7247");i.ModeOfOperation.ctr;function o(t){return n("sha256").update(t).digest()}function a(t){return i.utils.hex.fromBytes(o(t))}t.exports={sha256hashStr:a}},eae8:function(t,e,r){"use strict";r("df4f")}});
//# sourceMappingURL=app.ba3bf8e5.js.map