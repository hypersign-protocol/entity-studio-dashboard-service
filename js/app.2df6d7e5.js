(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([9,"chunk-vendors"]),a()})({0:function(t,e){},"07bb":function(t,e,a){},"0f0e":function(t,e,a){"use strict";var n=a("5fa8"),r=a.n(n);r.a},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},17:function(t,e){},"17cf":function(t,e,a){},18:function(t,e){},19:function(t,e){},"19f3":function(t,e,a){"use strict";var n=a("f1b8"),r=a.n(n);r.a},2:function(t,e){},20:function(t,e){},3:function(t,e){},"3b50":function(t,e,a){},4:function(t,e){},4035:function(t,e,a){"use strict";var n=a("753c"),r=a.n(n);r.a},"4c49":function(t,e,a){},5:function(t,e){},"51f1":function(t,e,a){},"555a":function(t,e,a){t.exports=a.p+"img/icon.7931bf0c.png"},5619:function(t){t.exports=JSON.parse('{"NODE_ENV":"$NODE_ENV","TITLE":"$VUE_APP_TITLE","DESC":"$VUE_APP_DESC","VERSION":"$VUE_APP_VERSION","STUDIO_SERVER_BASE_URL":"$VUE_APP_STUDIO_SERVER_BASE_URL","STUDIO_SERVER_BASE_WS":"$VUE_APP_STUDIO_SERVER_BASE_WS","NODE_SERVER_BASE_URL":"$VUE_APP_NODE_SERVER_BASE_URL","NODE_SERVER_BASE_URL_REST":"$VUE_APP_NODE_SERVER_BASE_URL_REST","SCHEMA_GET_EP_REST":"$VUE_APP_SCHEMA_GET_EP_REST","ACCPCT_CRED_EP":"$VUE_APP_ACCPCT_CRED_EP","EXPLORER_BASE_URL":"$VUE_APP_EXPLORER_BASE_URL","STUDIO_SERVER_SAVE_SCHEMA":"$VUE_APP_STUDIO_SERVER_SAVE_SCHEMA","SCHEMA_LIST_EP":"$VUE_APP_SCHEMA_LIST_EP","STUDIO_SERVER_CRED_LIST_EP":"$VUE_APP_STUDIO_SERVER_CRED_LIST_EP","WEB_WALLET_ADDRESS":"$VUE_APP_WEB_WALLET_ADDRESS","PRESENTATION_TEMPLATE_EP":"$VUE_APP_PRESENTATION_TEMPLATE_EP"}')},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"row nav-style"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group form-inline"},[a("img",{staticClass:"logo-style",attrs:{src:"https://thumb.tildacdn.com/tild3065-3765-4865-b331-393637653931/-/resize/150x/-/format/webp/hypersign_Yellow.png"}}),a("h4",{staticClass:"subtitle"},[a("span",{staticStyle:{opacity:"0.4"}},[t._v("|")]),t._v(" "+t._s(t.$config.app.name)+" ("+t._s(t.$config.app.version)+")")])])]),t.authRoutes.includes(t.$router.history.current.name)?t._e():a("div",{staticClass:"col-md-8 rightAlign",staticStyle:{"padding-top":"12px"}},t._l(t.menu,(function(e){return a("button",{key:e.name,staticClass:"btn btn-light btn-sm",attrs:{type:"button"},on:{click:function(a){return t.goToNextPage(e.name)}}},[t._v(t._s(e.name))])})),0)]),a("router-view"),a("notifications",{attrs:{group:"foo"}})],1)},i=[],s={data:function(){return{authRoutes:["register","PKIIdLogin"],menu:[{name:"Dashboard",path:"/studio/dashboard",isShow:!0},{name:"Schema",path:"/studio/schema",isShow:!0},{name:"Credentials",path:"/studio/credential",isShow:!0},{name:"Presentation",path:"/studio/presentation",isShow:!0},{name:"Logout",path:"/login",isShow:!1}]}},created:function(){},methods:{logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData")},goToNextPage:function(t){var e=this.menu.find((function(e){return e.name===t}));"Logout"===e.name&&this.logout(),this.$router.push(e.path),null!=this.$route.params.nextUrl?this.$router.push(this.$route.params.nextUrl):this.$router.push(e.path)}}},o=s,c=(a("f2ee"),a("b0a0"),a("2877")),l=Object(c["a"])(o,r,i,!1,null,"6a61ad3a",null),u=l.exports,d=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{"align-content":"center"}},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"col-md-7",staticStyle:{"font-size":"small",color:"grey"},attrs:{hidden:""}},[t._v("\n    Can we put one big image here?\n  ")]),a("div",{staticClass:"col-md-3",staticStyle:{"font-size":"small",color:"grey","margin-left":"36%"}},[a("form",{staticStyle:{padding:"6px"},attrs:{action:"#"}},[a("b-card",{staticStyle:{padding:"40px"},attrs:{"no-body":""}},[a("h4",[t._v("Login")]),a("hr"),a("div",{staticClass:"row"},[a("form",{staticClass:"col-md-12",attrs:{action:"#"}},[a("div",{staticClass:"form-group"},[a("vue-qr",{attrs:{margin:"1",text:t.qr_data,size:250,logoSrc:t.src}}),a("label",{staticStyle:{"font-size":"small",color:"grey","margin-top":"1%"}},[t._v("Scan QR code using Hypersign Mobile\n                App")]),a("div",[a("span",{staticStyle:{"font-size":"small",color:"grey",padding:"10px"}},[t._v("\n                  Get the app on\n                  "),a("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.hypersign.cordova",target:"__blank"}},[t._v("Android")]),t._v("\n                  or\n                  "),a("a",{attrs:{href:t.$config.webWalletAddress,target:"__blank"}},[t._v("Web")])])])],1),a("div",{staticClass:"form-group"},[a("h5",[a("span",[t._v("Or")])])]),a("div",{staticClass:"mb-2 primary"},[""!=this.value?a("a",{staticClass:"btn btn-hypersign  button-theme",style:t.buttonThemeCss,attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openWallet()}}},[a("div",{staticStyle:{"font-size":"smaller",padding:"10px"}},[t._v("\n                  Click To Login\n                ")])]):t._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 floatRight"},[t._v("\n            Do not have an account?\n            "),a("a",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:function(e){return t.push("register")}}},[t._v("SignUp")])])])])],1)])],1)},p=[],f=a("a34a"),m=a.n(f),v=a("d7b0"),g=a("658f"),_=a.n(g),b=a("41aa"),S=a.n(b),E=a("522b");console.log(Object({NODE_ENV:"production",VUE_APP_TITLE:"Hypersign Studio",VUE_APP_DESC:"A portal to issue and verify credentials on Hypersign Identity network!",VUE_APP_VERSION:"v1.0",VUE_APP_STUDIO_SERVER_BASE_URL:"https://stage.hypermine.in/studioserver/",VUE_APP_STUDIO_SERVER_BASE_WS:"wss://stage.hypermine.in/studioserverws/",VUE_APP_NODE_SERVER_BASE_URL:"https://jagrat.hypersign.id/node1/rpc/",VUE_APP_NODE_SERVER_BASE_URL_REST:"https://jagrat.hypersign.id/node1/rest/",VUE_APP_SCHEMA_GET_EP_REST:"hypersign-protocol/hidnode/ssi/schema/",VUE_APP_ACCPCT_CRED_EP:"api/v1/credential/accepct",VUE_APP_EXPLORER_BASE_URL:"https://explorer.hypersign.id/",VUE_APP_STUDIO_SERVER_SAVE_SCHEMA:"api/v1/schema/issue",VUE_APP_SCHEMA_LIST_EP:"api/v1/schema/get",VUE_APP_STUDIO_SERVER_CRED_LIST_EP:"api/v1/credential/list",VUE_APP_WEB_WALLET_ADDRESS:"https://wallet-stage.hypersign.id",VUE_APP_PRESENTATION_TEMPLATE_EP:"api/v1/presentation/template",BASE_URL:"/"}));var y={studioServer:{BASE_URL:"https://stage.hypermine.in/studioserver/",ACCPCT_CRED_EP:"api/v1/credential/accepct",SAVE_SCHEMA_EP:"api/v1/schema/issue",CRED_LIST_EP:"api/v1/credential/list",SCHEMA_LIST_EP:"api/v1/schema/get",CRED_ISSUE_EP:S.a.value("STUDIO_SERVER_CRED_ISSUE_EP")||"api/v1/credential/issue",AUTH_CHALLENGE_EP:S.a.value("STUDIO_SERVER_AUTH_CHALLENGE_EP")||"api/auth/challenge",AUTH_LOGIN_EP:S.a.value("STUDIO_SERVER_AUTH_LOGIN_EP")||"api/auth/login",PRESENTATION_TEMPLATE_EP:"api/v1/presentation/template"},nodeServer:{BASE_URL:"https://jagrat.hypersign.id/node1/rpc/",BASE_URL_REST:"https://jagrat.hypersign.id/node1/rest/",SCHEMA_GET_REST:"hypersign-protocol/hidnode/ssi/schema/",NETWORK_STATUS_EP:S.a.value("NODE_SERVER_NETWORK_STATUS_EP")||"net_info",SCHEMA_LIST_EP:S.a.value("NODE_SERVER_SCHEMA_LIST_EP")||"api/schema/list",SCHEMA_GET_EP:S.a.value("NODE_SERVER_SCHEMA_GET_EP")||"api/schema/get",SCHEMA_CREATE_EP:S.a.value("NODE_SERVER_SCHEMA_CREATE_EP")||"api/schema/create",DID_RESOLVE_EP:S.a.value("NODE_SERVER_DID_RERSOLVE_EP")||"api/did/resolve/"},explorer:{BASE_URL:S.a.value("EXPLORER_BASE_URL"),NEW_DID_EP:S.a.value("EXPLORER_NEW_DID_EP")||"newdid"},app:{name:S.a.value("TITLE")||"Hypersign Studio",decription:S.a.value("DESC"),version:S.a.value("VERSION")}},C="wss://stage.hypermine.in/studioserverws/",w="https://wallet-stage.hypersign.id",P={nodeUrl:y.nodeServer.BASE_URL,didScheme:"did:hs"},T={did:E.did(P),credential:E.credential(P)};y["appName"]="Studio",y["hypersignSDK"]=T,y["websocketUrl"]=C,y["webWalletAddress"]=w;var A=y,x=a("9062"),R=a.n(x),O=(a("e40d"),void 0);function D(t,e,a,n,r,i,s){try{var o=t[i](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(n,r)}function L(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var i=t.apply(e,a);function s(t){D(i,n,r,s,o,"next",t)}function o(t){D(i,n,r,s,o,"throw",t)}s(void 0)}))}}var k,I=A.hypersignSDK,N=a("e2c9"),U=(N.sha256hashStr,{name:"Login",components:{QrcodeVue:v["a"],Loading:R.a,VueQr:_.a},data:function(){return{qr_data:{},src:a("555a"),active:0,username:"",password:"",host:location.hostname,challenge:"dddd",domain:location.host,QRCodeValue:this.$route.query,credentials:{},userData:{},user:{},verifiablePresentation:"",fullPage:!0,isLoading:!1,privateKey:"3isrtEJ4gt1ZHkdUYYph1WFAtzfqAL5WM6Hh1NC2hmWnDfBypXjt5oUFdAqQdiess2vqqQ3iF6x4fDVuvLw454sn",did:"did:hs:892325a4-75c9-465c-882b-91e3ca5143c3"}},created:function(){localStorage.clear(),document.title="".concat(A.appName," - Login"),this.connection=new WebSocket(this.$config.websocketUrl),console.log(this.$config.websocketUrl),this.connection.onopen=function(){console.log("Socket connection is open")},this.isLoading=!0;var t=this;this.connection.onmessage=function(e){var a=e.data,n=JSON.parse(a);if(console.log(n),"init"==n.op)t.isLoading=!1,n.data["provider"]="google",t.value=JSON.stringify(n.data),t.qr_data="".concat(t.$config.webWalletAddress,"/deeplink?url=").concat(t.value),console.log(t.qr_data);else if("end"==n.op){t.connection.close();var r=n.data.hypersign.data.accessToken,i=n.data.hypersign.data.refreshToken;localStorage.setItem("authToken",r),localStorage.setItem("refreshToken",i),null!=localStorage.getItem("authToken")&&(this.walletWindow&&this.walletWindow.close(),null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("dashboard"))}else"reload"==n.op&&(t.QRRefresh=!0,t.qr_data=null,t.connection.close(4001,n.data.clientId),t.$router.go())},this.connection.onerror=function(t){console.log("Websocket connection error ",t)}},mounted:function(){this.clean()},methods:{push:function(t){this.$router.push(t)},openWallet:function(){if(""!=this.value){var t="".concat(this.$config.webWalletAddress,"/deeplink?url=").concat(this.value);this.walletWindow=window.open(t,"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes")}},clean:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData")},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},gotosubpage:function(t){O.$router.push("".concat(t))},generatePresentation:function(){var t=L(m.a.mark((function t(){var e,a,n,r;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("keys")),this.user.privateKey=e.privateKeyBase58,this.user.id=e.publicKey.id,this.user.did=this.user.id.split("#")[0],a=JSON.parse(localStorage.getItem("credential")),this.user.name=a["credentialSubject"]["Name"],this.user.email=a["credentialSubject"]["Email"],a){t.next=9;break}throw new Error("VC is null");case 9:return t.next=11,I.credential.generatePresentation(a,this.user.id);case 11:return n=t.sent,this.notifySuccess("Presentation generated"),t.next=15,I.credential.signPresentation(n,this.user.id,this.user.privateKey,this.challenge.challenge);case 15:r=t.sent,this.notifySuccess("Presentation signed"),this.verifiablePresentation=JSON.stringify(r),localStorage.removeItem("credential"),localStorage.removeItem("keys");case 20:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),downloadPresentation:function(){var t=L(m.a.mark((function t(){return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.generatePresentation();case 2:this.forceFileDownload(this.verifiablePresentation,"vp.json");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),forceFileDownload:function(t,e){var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=a,n.setAttribute("download",e),document.body.appendChild(n),n.click()},readFile:function(t,e){var a=new FileReader;a.onload=e,a.readAsText(t)},onFileChange:function(t){var e=t.target.files[0];this.readFile(e,this.onfileLoadSuccess)},onfileLoadSuccess:function(t){var e=JSON.parse(t.target.result);e||this.notifyErr("Incorrect file"),e["type"]&&e["type"].find((function(t){return"VerifiableCredential"==t}))?(localStorage.removeItem("credential"),localStorage.setItem("credential",JSON.stringify(e))):e["privateKeyBase58"]?(localStorage.removeItem("keys"),localStorage.setItem("keys",JSON.stringify(e))):this.notifyErr("Invalid file")},login:function(){var t=L(m.a.mark((function t(e){var a,n,r,i=this;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isLoading=!0,a="",n={"Content-Type":"application/json"},a="".concat(this.$config.studioServer.BASE_URL,"api/auth/login_pki?type=PKI"),n["x-auth-token"]=this.challenge.JWTChallenge,t.next=8,this.generatePresentation();case 8:r={fname:this.user.name,email:this.user.email,publicKey:this.user.did,proof:this.verifiablePresentation,challenge:this.challenge?this.challenge.challenge:"",domain:this.domain},console.log(".............before fetch"),fetch(a,{body:JSON.stringify(r),method:"POST",headers:n}).then((function(t){return t.json()})).then((function(t){if(i.isLoading=!1,t&&500==t.status)return i.notifyErr("Error:  ".concat(t.error));localStorage.setItem("authToken",t.message.jwtToken),t.message.user["privateKey"]=i.user.privateKey,localStorage.setItem("user",JSON.stringify(t.message.user)),null!=localStorage.getItem("authToken")&&(null!=i.$route.params.nextUrl?i.$router.push(i.$route.params.nextUrl):i.$router.push("dashboard"))})),t.next=19;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0),this.clean(),this.isLoading=!1,this.notifyErr("Error: ".concat(t.t0.message));case 19:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(e){return t.apply(this,arguments)}return e}()}}),$=U,j=(a("d0a3"),Object(c["a"])($,h,p,!1,null,"4606cc60",null)),V=j.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"col-md-3",staticStyle:{"font-size":"small",color:"grey","margin-left":"36%"}},[a("form",{staticStyle:{padding:"6px"},attrs:{action:"#"}},[a("b-card",{staticStyle:{padding:"40px"},attrs:{"no-body":""}},[a("h4",[t._v("Sign Up")]),a("hr"),a("div",{staticClass:"row"},[a("form",{staticClass:"col-md-12",attrs:{action:"#"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fullName,expression:"fullName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter name"},domProps:{value:t.fullName},on:{input:function(e){e.target.composing||(t.fullName=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Hypersign DID ("),a("a",{attrs:{href:""+t.$config.explorer.BASE_URL,target:"_blank"}},[t._v("Get a DID")]),t._v("):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.did,expression:"did"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter DID (did:hs:...)"},domProps:{value:t.did},on:{input:function(e){e.target.composing||(t.did=e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3",attrs:{hidden:""}},[a("button",{staticClass:"btn btn-primary btn-sm floatLeft",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.downloadPresentation()}}},[t._v("View Proof")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.signup()}}},[t._v("Signup")])]),a("div",{staticClass:"col-md-9 floatRight"},[t._v("\n            Back to\n            "),a("a",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:function(e){return t.push("login")}}},[t._v("Login")])])])])],1)])],1)},M=[],H=a("a18f"),q=a.n(H),W=void 0;function F(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function J(t,e,a,n,r,i,s){try{var o=t[i](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(n,r)}function K(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var i=t.apply(e,a);function s(t){J(i,n,r,s,o,"next",t)}function o(t){J(i,n,r,s,o,"throw",t)}s(void 0)}))}}var z,G=a("e2c9"),Q=(G.sha256hashStr,k={name:"Register",components:{}},F(k,"components",{Loading:R.a}),F(k,"data",(function(){return{active:0,fullName:"",email:"",phno:"",publicKey:"",username:"",password:"",host:location.hostname,keys:{},did:"",isLoading:!1,fullPage:!0}})),F(k,"created",(function(){})),F(k,"methods",{push:function(t){this.$router.push(t)},gotosubpage:function(t){W.$router.push("".concat(t))},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},signup:function(){var t=K(m.a.mark((function t(){var e,a,n,r;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,""!=this.email&&""!=this.name&&""!=this.did){t.next=4;break}throw new Error("All fields are mandatory");case 4:return e={fname:this.fullName,email:this.email,publicKey:this.did},a="".concat(this.$config.studioServer.BASE_URL,"api/auth/register"),t.next=8,q()(a,{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}});case 8:return n=t.sent,t.next=11,n.json();case 11:if(r=t.sent,500!=r.status){t.next=15;break}throw this.isLoading=!1,new Error(r.error);case 15:this.isLoading=!1,alert("An email has been sent to you. Please click on the link to verify and download HypersignAuth credentials."),this.isLoading=!1,this.$router.push("login"),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 25:case"end":return t.stop()}}),t,this,[[1,21]])})));function e(){return t.apply(this,arguments)}return e}()}),k),X=Q,Y=(a("19f3"),Object(c["a"])(X,B,M,!1,null,"c9b8fd9e",null)),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[a("Info",{attrs:{message:t.description}}),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Issue Credential")])],1),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("form",{staticStyle:{"max-height":"300px",overflow:"auto",padding:"5px"}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.holderDid,expression:"holderDid"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Issued To (did:hs:...)"},domProps:{value:t.holderDid},on:{input:function(e){e.target.composing||(t.holderDid=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("b-form-select",{staticClass:"mt-3",attrs:{options:t.selectOptions,size:"md"},on:{change:function(e){return t.OnSchemaSelectDropDownChange(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),t._l(t.issueCredAttributes,(function(e){return a("div",{key:e.name,staticClass:"form-group"},[a("label",[t._v(t._s(e.name))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"attr.value"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter attribute value"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])}))],2),a("hr"),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.issueCredential()}}},[t._v("Issue")])]),t.isCredentialIssued?a("div",{staticClass:"col-md-6",staticStyle:{padding:"30px"}},[a("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[a("qrcode-vue",{attrs:{value:t.signedVerifiableCredential,size:200,level:"H"}}),a("label",{staticClass:"title"},[t._v("Scan the QR code using Hypersign Wallet!")])],1),a("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[a("p"),a("h5",[t._v("OR")]),a("button",{staticClass:"btn btn-link",on:{click:function(e){return t.downloadCredentials()}}},[t._v("Download Credential")])])]):t._e()])])])],1)],1)]),a("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),a("tbody",t._l(t.vcList,(function(e){return a("tr",{key:e.vc_id},[a("td",[a("a",{attrs:{href:e.vc_id+":",target:"_blank>"}},[t._v(t._s(t.shorten(e.vc.id)))])]),a("td",[a("a",{attrs:{href:""+t.$config.nodeServer.BASE_URL_REST+t.$config.nodeServer.SCHEMA_GET_REST+e.schemaId+":",target:"_blank"}},[t._v(t._s(t.shorten(e.schemaId)))])]),a("td",[t._v(t._s(e.subjectDid))]),a("td",[t._v(t._s(e.credStatus.issuanceDate))]),a("td",[t._v(t._s(e.credStatus.expirationDate))]),a("td",[t._v(" "+t._s(e.credStatus.claim.currentStatus))]),a("td",[t._v(t._s(e.credStatus.claim.statusReason))]),a("td",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.generateCred(""+e._id)}}},[t._v("Send")])])])})),0)]),a("hf-pop-up",{attrs:{Header:"Accept Credential URL"}},[a("Info",{attrs:{message:"Copy and send this URL to the credential owner so that they can accept in their wallet"}}),a("p",{staticStyle:{"max-width":"500px","word-wrap":"break-word"}},[t._v(t._s(t.credUrl))])],1)],1)])],1)},et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("VC Id")]),a("th",[t._v("Schema Id")]),a("th",[t._v("Holder DID")]),a("th",[t._v("Issuance Date")]),a("th",[t._v("Expiration Date")]),a("th",[t._v("Status")]),a("th",[t._v("Status Reason")]),a("th")])])}],at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"message"},[t._v("\n    "+t._s(t.message)+"\n")])},nt=[],rt={name:"Info",props:["message"],mounted:function(){}},it=rt,st=(a("7899"),Object(c["a"])(it,at,nt,!1,null,"7080b038",null)),ot=st.exports,ct={methods:{shorten:function(t){if(t.length<=8)return t;var e=t.substr(0,8),a="...",n=t.substr(t.length-8,8);return e+a+n},fetchData:function(t,e){var a=this;fetch(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return a.notifyErr("Error: ".concat(t.message))}))}}},lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"modal-1",attrs:{"hide-footer":"",title:t.Header,centered:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._t("default")],2)},ut=[],dt={data:function(){return{show:!1}},props:{Header:{type:String,require:!0}},created:function(){this.openModal(),this.closeModal()},methods:{openModal:function(){var t=this;this.$root.$on("modal-show",(function(){t.show=!0}))},closeModal:function(){var t=this;this.$root.$on("modal-close",(function(){t.show=!1}))}}},ht=dt,pt=Object(c["a"])(ht,lt,ut,!1,null,null,null),ft=pt.exports,mt=void 0;function vt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function gt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(a),!0).forEach((function(e){St(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):vt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function _t(t,e,a,n,r,i,s){try{var o=t[i](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(n,r)}function bt(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var i=t.apply(e,a);function s(t){_t(i,n,r,s,o,"next",t)}function o(t){_t(i,n,r,s,o,"throw",t)}s(void 0)}))}}function St(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Et=A.hypersignSDK,yt=(z={name:"IssueCredential",components:{Info:ot,HfPopUp:ft},computed:{},data:function(){var t;return t={authToken:localStorage.getItem("authToken"),description:'An issuer can issue a credential to a subject (or holder) which can be verfied by the verifier independently, without having him to connect with the issuer. They are a part of our daily lives; driver\'s licenses are used to assert that we are capable of operating a motor vehicle, university degrees can be used to assert our level of education, and government-issued passports enable us to travel between countries.  For example: an airline company can issue a flight ticket ("verfiable credential") using schema (issued by DGCA) to the passenger.',active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{}},St(t,"authToken",localStorage.getItem("authToken")),St(t,"selectOptions",[{value:null,text:"Please select a schema"}]),St(t,"schemaMap",{}),St(t,"vcList",[]),St(t,"vcCredStatusMap",{}),St(t,"schemaList",[]),St(t,"fullPage",!0),St(t,"isLoading",!1),St(t,"holderDid",""),St(t,"schema_page",1),St(t,"credUrl",""),St(t,"QrData",{QRType:"ISSUE_CREDENTIAL",serviceEndpoint:"",schemaId:"",appDid:"",appName:"Hypersign Studio",challenge:"",provider:"",data:""}),t},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.getList("SCHEMA"),this.getList("CREDENTIAL")},beforeRouteEnter:function(t,e,a){a((function(t){t.prevRoute=e}))}},St(z,"computed",{}),St(z,"methods",{copy:function(){this.$refs.clone.focus(),document.execCommand("copy")},vcStatus:function(t){"https://jagrat.hypersign.id/node1/rest/hypersign-protocol/hidnode/ssi/credential/".concat(t,":");return q()(t+":").then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){Promise.reject(t.message)}))},generateCred:function(){var t=bt(m.a.mark((function t(e){var a,n,r,i,s;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},r=this.$config.studioServer.BASE_URL+this.$config.studioServer.ACCPCT_CRED_EP,t.next=5,q()(r,n);case 5:return i=t.sent,t.next=8,i.json();case 8:s=t.sent,this.credUrl=s.url,this.$root.$emit("modal-show"),this.notifySuccess("Cred Url Generated Successfully");case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"))},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},getList:function(){var t=bt(m.a.mark((function t(e){var a,n,r,i,s,o,c=this;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",n={},"SCHEMA"===e?(a="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SCHEMA_LIST_EP,"?page=").concat(this.schema_page,"&limit=10"),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}}):(a="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_LIST_EP),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}}),t.next=5,q()(a,n);case 5:return r=t.sent,t.next=8,r.json();case 8:if(i=t.sent,!i||500!=i.status){t.next=11;break}return t.abrupt("return",this.notifyErr("Error:  ".concat(i.error)));case 11:if("SCHEMA"!==e){t.next=17;break}console.log(i),s=i.schemaList,s&&s.length>0&&s.forEach(function(){var t=bt(m.a.mark((function t(e){var a,n,r;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.did==c.user.id){t.next=2;break}return t.abrupt("return");case 2:if("Registered"!==e.status){t.next=13;break}return a="".concat(c.$config.nodeServer.BASE_URL_REST).concat(c.$config.nodeServer.SCHEMA_GET_REST).concat(e.schemaId,":"),t.next=6,q()(a);case 6:return n=t.sent,t.next=9,n.json();case 9:r=t.sent,c.schemaMap[e.schemaId]=JSON.parse(r.schema[0].schema.properties),r.schema[0].schema.required.length>0&&r.schema[0].schema.required.forEach((function(t){c.schemaMap[e.schemaId][t].required=!0})),c.selectOptions.push({value:e.schemaId,text:"".concat(e.schemaId," | ").concat(e.status)});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=21;break;case 17:return t.next=19,Promise.all(i.credList.map(function(){var t=bt(m.a.mark((function t(e){var a;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.vcStatus(e.vc_id);case 2:return a=t.sent,Object.assign(e,gt({},a)),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 19:o=t.sent,this.vcList=o;case 21:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),gotosubpage:function(t){mt.$router.push("".concat(t))},addBlankAttrBox:function(){" "!=this.attributeName&&(this.attributes.push(this.attributeName),this.attributeName=" ")},onSchemaOptionChange:function(t){this.attributes=[],this.issueCredAttributes=[],this.selected=null,this.credentialName=""},OnSchemaSelectDropDownChange:function(t){if(console.log(t),t){this.issueCredAttributes=[];var e=this.issueCredAttributes.length;for(var a in console.log(this.schemaMap[t]),this.schemaMap[t])this.issueCredAttributes.push({id:e+t,type:a.type,name:a,required:!0===a.required,value:""})}else this.issueCredAttributes=[]},forceFileDownload:function(t,e){var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=a,n.setAttribute("download",e),document.body.appendChild(n),n.click()},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiableCredential),"vc.json")},generateAttributeMap:function(){var t=[];return this.issueCredAttributes.length>0&&this.issueCredAttributes.forEach((function(e){t[e.name]=e.value})),console.log(t),t},getCredentials:function(t){console.log(this.schemaMap[this.selected]);var e="".concat(this.$config.nodeServer.BASE_URL_REST).concat(this.$config.nodeServer.SCHEMA_GET_REST,"/").concat(this.selected,":");return Et.credential.generateCredential(e,{subjectDid:this.holderDid,issuerDid:this.user.publicKey,expirationDate:(new Date).toISOString(),attributesMap:t}).then((function(t){return t}))},signCredentials:function(t){return Et.credential.signCredential(t,this.user.publicKey,this.user.privateKey).then((function(t){return t}))},issueCredential:function(){var t=bt(m.a.mark((function t(){var e,a,n,r,i,s,o,c,l=this;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.isLoading=!0,""!=this.holderDid){t.next=4;break}throw new Error("Please enter the holder did");case 4:if(null!=this.selected){t.next=6;break}throw new Error("Please select a schema");case 6:return t.next=8,this.generateAttributeMap();case 8:e=t.sent,a=Object.assign({},e),n=this.selected,r=this.user.id,i=this.holderDid,s="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_ISSUE_EP),console.log(s),o={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)},c={fields:a,schemaId:n,issuerDid:r,subjectDid:i},this.QrData.data=c,q()(s,{method:"POST",headers:o,body:JSON.stringify({QR_DATA:this.QrData})}).then((function(t){return t.json()})).then((function(t){console.log(t);var e=t.QR_DATA,a="".concat(l.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(e));console.log(a),l.openWallet(a)})),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](0),this.isLoading=!1,this.notifyErr("Error: ".concat(t.t0.message));case 25:case"end":return t.stop()}}),t,this,[[0,21]])})));function e(){return t.apply(this,arguments)}return e}()}),St(z,"mixins",[ct]),z),Ct=yt,wt=(a("c9a6"),Object(c["a"])(Ct,tt,et,!1,null,"65d2cab4",null)),Pt=wt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home marginLeft marginRight"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[a("Info",{attrs:{message:t.description}}),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Generate Presentation Template")])],1),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("form",{staticStyle:{"max-height":"300px","min-height":"300px",overflow:"auto",padding:"5px"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Domain :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.domain,expression:"presentationTemplate.domain"}],staticClass:"form-control",attrs:{type:"url"},domProps:{value:t.presentationTemplate.domain},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"domain",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Name (optional):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.names,expression:"presentationTemplate.names"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.presentationTemplate.names},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"names",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("IssuerDid")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.issuerDid,expression:"presentationTemplate.issuerDid"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.presentationTemplate.issuerDid},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"issuerDid",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Schema Id :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.schemaId,expression:"presentationTemplate.schemaId"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.presentationTemplate.schemaId},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"schemaId",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Reason :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.reason,expression:"presentationTemplate.reason"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.presentationTemplate.reason},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"reason",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Callback URI")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.callbackUrl,expression:"presentationTemplate.callbackUrl"}],staticClass:"form-control",attrs:{type:"url"},domProps:{value:t.presentationTemplate.callbackUrl},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"callbackUrl",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft "},[t._v("Required :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.required,expression:"presentationTemplate.required"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.presentationTemplate.required)?t._i(t.presentationTemplate.required,null)>-1:t.presentationTemplate.required},on:{change:function(e){var a=t.presentationTemplate.required,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&t.$set(t.presentationTemplate,"required",a.concat([i])):s>-1&&t.$set(t.presentationTemplate,"required",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.presentationTemplate,"required",r)}}})])]),a("hr"),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.generatePresentation()}}},[t._v("Generate")])]),t.isCredentialIssued?a("div",{staticClass:"col-md-6",staticStyle:{padding:"30px"}},[a("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[a("qrcode-vue",{attrs:{value:t.signedVerifiablePresentation,size:200,level:"H"}}),a("label",{staticClass:"title"},[t._v("Scan the QR code using Hypersign Wallet!")])],1),a("div",{staticClass:"form-group",staticStyle:{"text-align":"center"}},[a("p"),a("h5",[t._v("OR")]),a("button",{staticClass:"btn btn-link",on:{click:function(e){return t.downloadCredentials()}}},[t._v("Download Presentation")])])]):t._e()])])])],1)],1)]),a("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),a("tbody",t._l(t.templateList,(function(e){return a("tr",{key:e},[a("td",[t._v(t._s(e._id))]),a("td",[t._v(t._s(e.domain))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.issuerDid.toString()))]),a("td",[t._v(t._s(e.schemaId))]),a("td",[t._v(t._s(e.reason))]),a("td",[t._v(t._s(e.callbackUrl))])])})),0)])])])],1)},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("_id ")]),a("th",[t._v("Domain")]),a("th",[t._v("Name")]),a("th",[t._v("IssuerDid")]),a("th",[t._v("Schema Id")]),a("th",[t._v("Reason")]),a("th",[t._v("CallbackUrl")])])])}],xt=void 0;function Rt(t,e,a,n,r,i,s){try{var o=t[i](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(n,r)}function Ot(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var i=t.apply(e,a);function s(t){Rt(i,n,r,s,o,"next",t)}function o(t){Rt(i,n,r,s,o,"throw",t)}s(void 0)}))}}var Dt=A.hypersignSDK,Lt={name:"Presentation",components:{QrcodeVue:v["a"],Info:ot},data:function(){return{description:"The subject (or holder) generates verifiable presentation from one or more verifiable       credentials, issued by one or more issuers, that is shared with a specific verifier.       A verifiable presentation is a tamper-evident presentation encoded in such a way that       authorship of the data can be trusted after a process of cryptographic verification.       Certain types of verifiable presentations might contain data that is synthesized from,       but do not contain, the original verifiable credentials for example, in order to proof the       subject that he/she is an adult, she/he does not have to tell his/her actual age       (i.e. Zero knowledge proof). The airline passenger might not have to show the complete ticket      to the secruity personal to pass the security check. The passenger will have ability to show       just one document (the verifiable presentation) derived from his passport and air ticket to      show at the security check.",presentationTemplate:{queryType:"QueryByExample",domain:"",name:"",issuerDid:"",schemaId:"",reason:"",required:!0,callbackUrl:""},templateList:[],active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{},authToken:localStorage.getItem("authToken"),selectOptions:[{value:null,text:"Please select a schema"}],schemaMap:{},vcList:[],schemaList:[],fullPage:!0,isLoading:!1,holderDid:"did:hs:8b915133-cb8b-4151-9a63-1b91f702297f",signedVerifiablePresentation:{},presentationDetails:{credentialType:{}},isClaims:!1}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.fetchTemplates()},beforeRouteEnter:function(t,e,a){a((function(t){t.prevRoute=e}))},methods:{fetchTemplates:function(){var t=Ot(m.a.mark((function t(){var e,a,n,r;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(this.$config.studioServer.BASE_URL,"api/v1/presentation/template"),a={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)},t.next=4,q()(e,{headers:a});case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,this.templateList=r;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showClaims:function(){this.isClaims?this.isClaims=!1:this.isClaims=!0},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},fetchData:function(t,e){var a=this;q()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return a.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){xt.$router.push("".concat(t))},addBlankAttrBox:function(){" "!=this.attributeName&&(this.attributes.push(this.attributeName),this.attributeName=" ")},onSchemaOptionChange:function(t){this.attributes=[],this.issueCredAttributes=[],this.selected=null,this.credentialName=""},OnSchemaSelectDropDownChange:function(t){var e=this;if(t){this.issueCredAttributes=[];var a=this.issueCredAttributes.length;this.schemaMap[t].forEach((function(n){e.issueCredAttributes.push({id:a+t,type:"text",name:n,value:""})}))}else this.issueCredAttributes=[]},forceFileDownload:function(t,e){var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=a,n.setAttribute("download",e),document.body.appendChild(n),n.click()},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiablePresentation),"vp.json")},onfileLoadSuccess:function(t){var e=JSON.parse(t.target.result);e||this.notifyErr("Incorrect file");var a=e["type"];a.find((function(t){return"VerifiableCredential"==t}))?(localStorage.removeItem("credential"),localStorage.setItem("credential",JSON.stringify(e))):a.find((function(t){return"VerifiablePresentation"==t}))?(localStorage.removeItem("presentation"),localStorage.setItem("presentation",JSON.stringify(e))):this.notifyErr("Invalid file")},readFile:function(t,e){var a=new FileReader;a.onload=e,a.readAsText(t)},onFileChange:function(t){var e=t.target.files[0];this.readFile(e,this.onfileLoadSuccess)},getCredentials:function(t){var e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.SCHEMA_GET_EP).concat(this.selected);return Dt.credential.generateCredential(e,{subjectDid:this.holderDid,issuerDid:this.user.publicKey,expirationDate:(new Date).toISOString(),attributesMap:t}).then((function(t){return t}))},signCredentials:function(t){return Dt.credential.signCredential(t,this.user.publicKey,this.user.privateKey).then((function(t){return t}))},generatePresentation:function(){var t=Ot(m.a.mark((function t(){var e,a,n,r,i;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.prev=1,e=this.presentationTemplate.issuerDid.split(","),a={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)},n={issuerDid:e,queryType:this.presentationTemplate.queryType,domain:this.presentationTemplate.domain,name:this.presentationTemplate.name,schemaId:this.presentationTemplate.schemaId,reason:this.presentationTemplate.reason,required:this.presentationTemplate.required,callbackUrl:this.presentationTemplate.callbackUrl},r="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.PRESENTATION_TEMPLATE_EP),t.next=8,q()(r,{body:JSON.stringify(n),method:"POST",headers:a});case 8:i=t.sent,console.log(i),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 16:case"end":return t.stop()}}),t,this,[[1,12]])})));function e(){return t.apply(this,arguments)}return e}(),viewPresentation:function(){this.isLoading=!0;try{var t=JSON.parse(localStorage.getItem("presentation"));if(!t)throw new Error("Please select verifiable presentation file");var e=t.verifiableCredential[0];this.presentationDetails={},this.presentationDetails.credentialType={name:e.type[1],url:e["@context"][1]["hsscheme"]},this.presentationDetails.issuerDid=e.issuer,this.presentationDetails.holderDid=e.credentialSubject.id,this.presentationDetails.issuanceDate=e.issuanceDate,this.presentationDetails.expirationDate=e.expirationDate,this.presentationDetails.claim=e.credentialSubject}catch(a){this.isLoading=!1,this.notifyErr(a.message)}},clear:function(){this.presentationDetails="",localStorage.removeItem("presentation"),localStorage.removeItem("credential"),this.$refs.vpFile.value=null,this.$refs.vcFile.value=null,this.signedVerifiablePresentation={},this.isCredentialIssued=!1},verifyPresentation:function(){var t=Ot(m.a.mark((function t(){var e,a,n;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,e=JSON.parse(localStorage.getItem("presentation")),e){t.next=5;break}throw new Error("Please select verifiable presentation file");case 5:return a=e.verifiableCredential[0],t.next=8,Dt.credential.verifyPresentation({presentation:e,challenge:"test_challenge",issuerDid:a.issuer,holderDid:a.credentialSubject.id});case 8:n=t.sent,n.verified?this.notifySuccess("Presentation verified"):this.notifyErr("Presentation can not verified"),this.isLoading=!1,this.clear(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 18:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(){return t.apply(this,arguments)}return e}()}},kt=Lt,It=(a("fa38"),Object(c["a"])(kt,Tt,At,!1,null,"495e29b2",null)),Nt=It.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home marginRight marginLeft"},[a("h3",{staticClass:"leftAlign"},[t._v("Welcome, "+t._s(t.user.name)+" !")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("Profile")],1),a("div",{staticClass:"col-md-6"},[a("Dashboard")],1)])])},$t=[],jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{padding:"10px"}},[a("div",{staticClass:"col-md-6",staticStyle:{"margin-left":"40%"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("\n            Network Details "),!0===t.networkStatus.result.listening?a("span",{staticClass:"dot"}):t._e()]),a("div",{staticClass:"card-body leftAlign"},[a("p",[t._v("NETWORK\n            ")]),a("p",{staticClass:"fVal"},[t._v(t._s(t.networkStatus.result.peers[0].node_info.network.toUpperCase()+"  NETWORK"))]),a("p",[t._v("NODE URL\n            ")]),a("p",{staticClass:"fVal"},[a("a",{attrs:{href:t.networkStatus.nodeUrl,target:"_blank"}},[t._v(t._s(this.$config.nodeServer.BASE_URL))])]),a("p",[t._v("EXPLORER URL\n            ")]),a("p",{staticClass:"fVal"},[a("a",{attrs:{href:t.networkStatus.explorerUrl,target:"_blank"}},[t._v(t._s(this.$config.explorer.BASE_URL))])]),a("p",[t._v("DID COUNT\n            ")]),a("p",{staticClass:"fVal"},[t._v(t._s(t.networkStatus.didCount))]),a("p",[t._v("SCHEMA COUNT\n            ")]),a("p",{staticClass:"fVal"},[t._v(t._s(t.networkStatus.schemaCount))])])])])])},Vt=[],Bt=void 0;function Mt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Ht(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(a),!0).forEach((function(e){qt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Mt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function qt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Wt(t,e,a,n,r,i,s){try{var o=t[i](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(n,r)}function Ft(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var i=t.apply(e,a);function s(t){Wt(i,n,r,s,o,"next",t)}function o(t){Wt(i,n,r,s,o,"throw",t)}s(void 0)}))}}var Jt={name:"PanelPage",mounted:function(){},components:{},data:function(){return{active:0,networkStatus:{result:{listening:"false",listeners:[],n_peers:"",peers:[{}]},status:"DOWN",nodeUrl:"",explorerUrl:this.$config.explorer.BASE_URL,schemaCount:"0",didCount:"0"}}},created:function(){var t=Ft(m.a.mark((function t(){var e,a=this;return m.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.NETWORK_STATUS_EP),t.next=3,fetch(e).then((function(t){return t.json()})).then((function(t){a.networkStatus=Ht({},t),console.log(a.networkStatus.result.peers[0])})).catch((function(t){return alert("Error: ".concat(t.message))}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{gotosubpage:function(t){Bt.$router.push("".concat(t))}}},Kt=Jt,zt=(a("aa42"),Object(c["a"])(Kt,jt,Vt,!1,null,"7946f76c",null)),Gt=zt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"margin-top":"2%","margin-bottom":"7%"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body tile"},[t._v(t._s(t.schemaCount))]),a("div",{staticClass:"card-header"},[t._v("Authored Schemas")])])]),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body tile"},[t._v(t._s(t.credentialCount))]),a("div",{staticClass:"card-header"},[t._v("Issued Credentials")])])])])]),a("div",{staticClass:"col-md-10 leftAlign"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-md-8",staticStyle:{"flex-wrap":"wrap",padding:"20px"}},[a("p",[t._v("DID")]),a("p",{staticClass:"fVal"},[a("a",{attrs:{href:""+t.$config.nodeServer.BASE_URL+t.$config.nodeServer.DID_RESOLVE_EP+t.user.id,target:"_blank"}},[t._v(t._s(t.user.id))])]),a("p",[t._v("Email")]),a("p",{staticClass:"fVal"},[t._v(t._s(t.user.email))]),t.user.phoneNumber?a("p",[t._v("Phone Number: "+t._s(t.user.phoneNumber))]):t._e()])])])])])])},Xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-4"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"https://cdn1.iconfinder.com/data/icons/female-avatars-vol-1/256/female-portrait-avatar-profile-woman-sexy-afro-2-512.png",alt:"John"}})])}],Yt=void 0;function Zt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function te(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(a),!0).forEach((function(e){ee(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Zt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ee(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var ae={name:"Profile",mounted:function(){},components:{},data:function(){return{active:0,userKeys:[],appList:[],schemaCount:0,credentialCount:0,user:{id:"",publicKey:"",email:"",phoneNumber:"",fname:""},authToken:localStorage.getItem("authToken")}},created:function(){var t=localStorage.getItem("user");this.user=te({},JSON.parse(t)),this.userKeys=Object.keys(this.user)},methods:{fetchData:function(t,e){return fetch(t,e).then((function(t){return t.json()})).then((function(t){return t.message})).catch((function(t){return alert("Error: ".concat(t.message))}))},pollData:function(){var t=this,e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.SCHEMA_LIST_EP),a={};this.fetchData(e).then((function(e){e&&e.length>0&&(e=e.filter((function(e){return e.owner===t.user.id})),t.schemaCount=e.length)})),e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_LIST_EP),a={method:"GET",headers:{"x-auth-token":this.authToken}},this.fetchData(e,a).then((function(e){e&&(t.credentialCount=e.count)}))},gotosubpage:function(t){Yt.$router.push("".concat(t))}}},ne=ae,re=(a("4035"),Object(c["a"])(ne,Qt,Xt,!1,null,"4358bd71",null)),ie=re.exports,se=void 0,oe={name:"PanelPage",mounted:function(){},components:{Dashboard:Gt,Profile:ie},data:function(){return{appList:[],user:{},appName:"",authToken:localStorage.getItem("authToken")}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t)},methods:{notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},gotosubpage:function(t){se.$router.push("".concat(t))},logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData"),null!=this.$route.params.nextUrl?this.$router.push(this.$route.params.nextUrl):this.$router.push("/login")}}},ce=oe,le=(a("60da"),Object(c["a"])(ce,Ut,$t,!1,null,"78665633",null)),ue=le.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[a("Info",{attrs:{message:t.description}}),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Create Schema")])],1),a("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group form-inline"},[a("label",{staticStyle:{"margin-right":"8%"}},[t._v("Schema Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentialName,expression:"credentialName"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter schema name"},domProps:{value:t.credentialName},on:{input:function(e){e.target.composing||(t.credentialName=e.target.value)}}})]),a("div",{staticClass:"form-group form-inline"},[a("label",{staticStyle:{"margin-right":"12%"}},[t._v("Description:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.credentialDescription,expression:"credentialDescription"}],staticClass:"form-control",attrs:{rows:"5",cols:"29",placeholder:"Enter description"},domProps:{value:t.credentialDescription},on:{input:function(e){e.target.composing||(t.credentialDescription=e.target.value)}}})]),a("div",{staticClass:"form-group form-inline"},[a("label",{staticStyle:{"margin-right":"3%"}},[t._v("Additional Properties")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.additionalProperties,expression:"additionalProperties"}],attrs:{size:"100px",type:"checkbox"},domProps:{checked:Array.isArray(t.additionalProperties)?t._i(t.additionalProperties,null)>-1:t.additionalProperties},on:{change:function(e){var a=t.additionalProperties,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&(t.additionalProperties=a.concat([i])):s>-1&&(t.additionalProperties=a.slice(0,s).concat(a.slice(s+1)))}else t.additionalProperties=r}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group form-inline"},[a("label",{staticStyle:{"margin-right":"5%"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeName,expression:"attributeName"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter attribute name"},domProps:{value:t.attributeName},on:{input:function(e){e.target.composing||(t.attributeName=e.target.value)}}})]),a("div",{staticClass:"form-group form-inline"},[a("label",{staticStyle:{"margin-right":"5%"}},[t._v("Type")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeTypes,expression:"attributeTypes"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter attribute Type (eg. String)"},domProps:{value:t.attributeTypes},on:{input:function(e){e.target.composing||(t.attributeTypes=e.target.value)}}})]),a("div",{staticClass:"form-group form-inline"},[a("label",{staticStyle:{"margin-right":"5%"}},[t._v("Format")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeFormat,expression:"attributeFormat"}],staticClass:"form-control",attrs:{type:"text",size:"30",placeholder:"Enter attribute Format (eg email)"},domProps:{value:t.attributeFormat},on:{input:function(e){e.target.composing||(t.attributeFormat=e.target.value)}}})]),a("div",{staticClass:"form-group form-inline"},[a("label",{staticStyle:{"margin-right":"5%"}},[t._v("Required")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeRequired,expression:"attributeRequired"}],staticClass:"form-control",attrs:{type:"checkbox",size:"200px"},domProps:{checked:Array.isArray(t.attributeRequired)?t._i(t.attributeRequired,null)>-1:t.attributeRequired},on:{change:function(e){var a=t.attributeRequired,n=e.target,r=!!n.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);n.checked?s<0&&(t.attributeRequired=a.concat([i])):s>-1&&(t.attributeRequired=a.slice(0,s).concat(a.slice(s+1)))}else t.attributeRequired=r}}})]),a("a",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"5%","border-radius":"30px",color:"white"},on:{click:function(e){return t.addBlankAttrBox()}}},[t._v("Add +")])]),a("div",{staticClass:"form-group",staticStyle:{"min-height":"150px","max-height":"150px",overflow:"auto"}},t._l(t.attributes,(function(e){return a("div",{key:e.type},[a("div",{staticClass:"sm-tiles"},[t._v("\n                      "+t._s(e.name)+"\n                      "),a("span",[t._v("x")])])])})),0)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("hr"),a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.createSchema()}}},[t._v("Create")])])])])])],1)],1)]),a("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),a("tbody",t._l(t.schemaList,(function(e){return a("tr",{key:e},[a("td",[a("a",{attrs:{href:""+t.$config.nodeServer.BASE_URL_REST+t.$config.nodeServer.SCHEMA_GET_REST+e.schemaId+":",target:"_blank"}},[t._v(t._s(t.shorten(e.schemaId)))])]),a("td",{staticStyle:{"word-wrap":"break-word","min-width":"200px","max-width":"200px"}},[a("a",{attrs:{target:"_blank",href:t.$config.explorer.BASE_URL+"txdetails?hash=0x"+e.transactionHash}},[t._v("0x"+t._s(e.transactionHash))])]),a("td",[t._v(t._s(e.status))])])})),0)]),a("button",{staticClass:"btn btn-outline-warning btn-sm",on:{click:function(e){return t.fetchSchemasPrev()}}},[t._v("Prev")]),a("button",{staticClass:"btn btn-outline-warning btn-sm",on:{click:function(e){return t.fetchSchemasNext()}}},[t._v(" Next ")])])])],1)},he=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("Schema Id")]),a("th",[t._v("Tx Hash")]),a("th",[t._v("Status")])])])}],pe=void 0;function fe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function me(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(a),!0).forEach((function(e){ve(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):fe(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ve(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var ge={name:"IssueCredential",components:{QrcodeVue:v["a"],Info:ot},data:function(){return{description:"Credential Schema defines what information will go inside a verifiable credential. For example: Directorate General of Civil Aviation (DGCA) can define a schema (or format) for flights tickets, being issued by all airline companies in India.",active:0,host:location.hostname,user:{},page:1,prevRoute:null,attributeName:"",attributeTypes:"",attributeFormat:"",attributeRequired:!1,attributes:[],issueCredAttributes:[],additionalProperties:!1,showSchema:!0,radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{},authToken:localStorage.getItem("authToken"),selectOptions:[{value:null,text:"Please select a schema"}],schemaMap:{},schemaList:[],credentialDescription:"",fullPage:!0,isLoading:!1,QrData:{QRType:"ISSUE_SCHEMA",serviceEndpoint:"",schemaId:"",appDid:"",appName:"Hypersign Studio",challenge:"",provider:"",data:""}}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.fetchSchemasPrev()},beforeRouteEnter:function(t,e,a){a((function(t){t.prevRoute=e}))},methods:{notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},fetchSchemasPrev:function(){var t=this;this.page-=1,this.page<1&&(this.page=1);var e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SCHEMA_LIST_EP,"?page=").concat(this.page,"&limit=10"),a={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};q()(e,{headers:a}).then((function(t){return t.json()})).then((function(e){if(console.log(e),200!=e.status)throw new Error(e.error);t.schemaList=e.schemaList,t.schemaList&&t.schemaList.length>0&&(t.schemaList=t.schemaList.filter((function(e){return e.did===t.user.id})))})).catch((function(e){return t.notifyErr("Error: ".concat(e.message))}))},fetchSchemasNext:function(){var t=this;this.page+=1;var e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SCHEMA_LIST_EP,"?page=").concat(this.page,"&limit=10"),a={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};q()(e,{headers:a}).then((function(t){return t.json()})).then((function(e){if(200!=e.status)throw new Error(e.error);t.schemaList=e.schemaList,t.schemaList&&t.schemaList.length>0&&(t.schemaList=t.schemaList.filter((function(e){return e.did===t.user.id})))})).catch((function(e){return t.notifyErr("Error: ".concat(e.message))}))},fetchData:function(t,e){var a=this;q()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return a.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){pe.$router.push("".concat(t))},addBlankAttrBox:function(){if(console.log(this.attributeName,this.attributeTypes),""!==this.attributeName&&""!==this.attributeTypes){var t={name:this.attributeName,type:this.attributeTypes,format:this.attributeFormat,isRequired:this.attributeRequired};console.log(t),this.attributes.push(t),this.attributeName="",this.attributeTypes="",this.attributeFormat="",this.attributeRequired=!1}else this.notifyErr("Name or Type Cannot be blank")},openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"))},createSchema:function(){var t=this;if(this.isLoading=!0,""==this.credentialName)return this.notifyErr("Error: SchemaName can not be blank");if(0==this.attributes.length)return this.notifyErr("Error: Atleast one attribute is required");var e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SAVE_SCHEMA_EP),a={name:this.credentialName,author:this.user.id,fields:this.attributes,description:this.credentialDescription,additionalProperties:this.additionalProperties};this.QrData.data=a;var n=JSON.stringify(this.QrData),r="".concat(this.$config.webWalletAddress,"/deeplink?url=").concat(n);console.log(r);var i={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};q()(e,{method:"POST",body:JSON.stringify({QR_DATA:this.QrData}),headers:i}).then((function(t){return t.json()})).then((function(e){var a=e.QR_DATA;if(200===e.status){t.notifySuccess("Credential successfull created"),t.credentialName="Schema",t.schemaList.push(me({},e.schema)),console.log(a);var n="".concat(t.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(a));t.openWallet(n),console.log(n),t.isLoading=!1}else t.isLoading=!1,t.notifyErr("Error: ".concat(e.error))}))}},mixins:[ct]},_e=ge,be=(a("0f0e"),Object(c["a"])(_e,de,he,!1,null,"73a27f56",null)),Se=be.exports;n["default"].use(d["a"]);var Ee=new d["a"]({mode:"hash",routes:[{path:"/",redirect:"/studio",requiresAuth:!0},{path:"/login",redirect:"/studio/login"},{path:"/studio",redirect:"/studio/dashboard",requiresAuth:!0},{path:"/studio/login",name:"PKIIdLogin",component:V},{path:"/studio/dashboard",name:"dashboard",component:ue,meta:{requiresAuth:!0}},{path:"/studio/register",name:"register",component:Z},{path:"/studio/schema",name:"schema",component:Se,meta:{requiresAuth:!0}},{path:"/studio/credential",name:"credential",component:Pt,meta:{requiresAuth:!0}},{path:"/studio/presentation",name:"presentation",component:Nt,meta:{requiresAuth:!0}}]});Ee.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.requiresAuth}))){var n=localStorage.getItem("authToken");if(n){var r="".concat(A.studioServer.BASE_URL,"protected");console.log(r),q()(r,{headers:{Authorization:"Bearer ".concat(n)},method:"POST"}).then((function(t){return t.json()})).then((function(e){403==e.status?a({path:"/studio/login",params:{nextUrl:t.fullPath}}):(localStorage.setItem("user",JSON.stringify(e.message)),console.log(e),a())})).catch((function(e){console.log(e),a({path:"/studio/login",params:{nextUrl:t.fullPath}})}))}else a({path:"/studio/login",params:{nextUrl:t.fullPath}})}else a()}));var ye=Ee,Ce=a("5f5b"),we=a("ee98"),Pe=a.n(we);a("f9e3"),a("2dd8");n["default"].config.productionTip=!1,n["default"].use(Ce["a"]),n["default"].use(Pe.a),n["default"].prototype.$config=A,new n["default"]({router:ye,render:function(t){return t(u)}}).$mount("#app")},"5fa8":function(t,e,a){},6:function(t,e){},"60da":function(t,e,a){"use strict";var n=a("3b50"),r=a.n(n);r.a},6842:function(t,e,a){},7:function(t,e){},"753c":function(t,e,a){},7899:function(t,e,a){"use strict";var n=a("4c49"),r=a.n(n);r.a},8:function(t,e){},9:function(t,e,a){t.exports=a("56d7")},a41b:function(t,e,a){},aa42:function(t,e,a){"use strict";var n=a("51f1"),r=a.n(n);r.a},b0a0:function(t,e,a){"use strict";var n=a("07bb"),r=a.n(n);r.a},b2c0:function(t,e,a){},c9a6:function(t,e,a){"use strict";var n=a("a41b"),r=a.n(n);r.a},d0a3:function(t,e,a){"use strict";var n=a("6842"),r=a.n(n);r.a},e2c9:function(t,e,a){var n=a("69f2"),r=a("7247");r.ModeOfOperation.ctr;function i(t){return n("sha256").update(t).digest()}function s(t){return r.utils.hex.fromBytes(i(t))}t.exports={sha256hashStr:s}},f1b8:function(t,e,a){},f2ee:function(t,e,a){"use strict";var n=a("17cf"),r=a.n(n);r.a},fa38:function(t,e,a){"use strict";var n=a("b2c0"),r=a.n(n);r.a}});
//# sourceMappingURL=app.2df6d7e5.js.map