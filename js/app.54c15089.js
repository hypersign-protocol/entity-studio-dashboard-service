(function(t){function e(e){for(var r,s,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(r=!1)}r&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},i={app:0},n=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([9,"chunk-vendors"]),a()})({0:function(t,e){},"07ab":function(t,e,a){"use strict";var r=a("3177"),i=a.n(r);i.a},"07bb":function(t,e,a){},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},"14e5":function(t,e,a){"use strict";var r=a("f5bb"),i=a.n(r);i.a},15:function(t,e){},16:function(t,e){},17:function(t,e){},18:function(t,e){},"18b8":function(t,e,a){"use strict";var r=a("2d2a"),i=a.n(r);i.a},19:function(t,e){},"19f3":function(t,e,a){"use strict";var r=a("f1b8"),i=a.n(r);i.a},2:function(t,e){},20:function(t,e){},2270:function(t,e,a){},2535:function(t,e,a){},"2d2a":function(t,e,a){},3:function(t,e){},3177:function(t,e,a){},4:function(t,e){},"478e":function(t,e,a){t.exports=a.p+"img/green-tick.8b795ba6.png"},"4c49":function(t,e,a){},5:function(t,e){},"50c7":function(t,e,a){"use strict";var r=a("2535"),i=a.n(r);i.a},5425:function(t,e,a){},"555a":function(t,e,a){t.exports=a.p+"img/icon.7931bf0c.png"},5619:function(t){t.exports=JSON.parse('{"NODE_ENV":"$NODE_ENV","TITLE":"$VUE_APP_TITLE","DESC":"$VUE_APP_DESC","VERSION":"$VUE_APP_VERSION","STUDIO_SERVER_BASE_URL":"$VUE_APP_STUDIO_SERVER_BASE_URL","STUDIO_SERVER_BASE_WS":"$VUE_APP_STUDIO_SERVER_BASE_WS","NODE_SERVER_BASE_URL":"$VUE_APP_NODE_SERVER_BASE_URL","NODE_SERVER_BASE_URL_REST":"$VUE_APP_NODE_SERVER_BASE_URL_REST","SCHEMA_GET_EP_REST":"$VUE_APP_SCHEMA_GET_EP_REST","NODE_SERVER_DID_RERSOLVE_EP":"$VUE_APP_NODE_SERVER_DID_RERSOLVE_EP","ACCPCT_CRED_EP":"$VUE_APP_ACCPCT_CRED_EP","EXPLORER_BASE_URL":"$VUE_APP_EXPLORER_BASE_URL","STUDIO_SERVER_SAVE_SCHEMA":"$VUE_APP_STUDIO_SERVER_SAVE_SCHEMA","SCHEMA_LIST_EP":"$VUE_APP_SCHEMA_LIST_EP","STUDIO_SERVER_CRED_LIST_EP":"$VUE_APP_STUDIO_SERVER_CRED_LIST_EP","WEB_WALLET_ADDRESS":"$VUE_APP_WEB_WALLET_ADDRESS","PRESENTATION_TEMPLATE_EP":"$VUE_APP_PRESENTATION_TEMPLATE_EP","SSE":"$VUE_APP_SSE"}')},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.showIcon?a("b-navbar",{staticClass:"navStyle",attrs:{toggleable:"lg",type:"dark",variant:"white"}},[a("b-navbar-brand",{staticStyle:{display:"flex"},attrs:{href:"#"}},[a("img",{attrs:{src:"https://thumb.tildacdn.com/tild3065-3765-4865-b331-393637653931/-/resize/150x/-/format/webp/hypersign_Yellow.png",alt:""}}),a("h4",{staticClass:"subtitle"},[t._v("| "+t._s(t.$config.app.name)+" ("+t._s(t.$config.app.version)+")")])]),a("b-navbar-toggle",{staticStyle:{"background-color":"grey"},attrs:{target:"nav-collapse",type:"dark"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto",staticStyle:{"padding-right":"100px",position:"static"}},[t.showIcon?a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-iconstack",{attrs:{"font-scale":"3"}},[a("b-icon",{attrs:{stacked:"",icon:"circle",variant:"info"}}),a("b-icon",{attrs:{stacked:"",icon:"person",scale:"0.6",variant:"info"}})],1)]},proxy:!0}],null,!1,2192088499)},[a("b-dropdown-item",{attrs:{disabled:""}},[a("br"),a("span",[t._v(t._s(t.shorten(t.userDetails.email)))]),a("br"),a("span",[t._v(t._s(t.shorten(t.userDetails.did)))])]),a("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Logout"},on:{executeAction:function(e){return t.logoutAll()}}})],1):t._e()],1)],1)],1):t._e(),a("div",{class:[t.isSidebarCollapsed?"container-collapsed-not":"container-collapsed"]},[t.showSideNavbar?a("sidebar-menu",{staticClass:"sidebar-wrapper",attrs:{collapsed:t.isSidebarCollapsed,theme:"white-theme",width:"220px",menu:t.getSideMenu()},on:{"toggle-collapse":t.onToggleCollapse}},[a("div",{staticStyle:{background:"#363740"},attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"mt-3"},[a("div",[a("center",[t.isSidebarCollapsed?t._e():a("img",{attrs:{src:""+t.getProfileIcon(t.selectedOrg.name),alt:"avatar",width:"130px"}})]),a("center",[t.isSidebarCollapsed?a("img",{staticClass:"mr-1",attrs:{src:""+t.getProfileIcon(t.selectedOrg.name),alt:"center",width:"35px"}}):t._e()])],1),a("center",[a("p",{staticClass:"mt-3 orgNameCss"},[t._v(t._s(t.selectedOrg.name))])])],1)])]):t._e(),a("router-view")],1),a("notifications",{attrs:{group:"foo"}})],1)},n=[],s=a("a34a"),o=a.n(s),c={methods:{shorten:function(t){if(!t||"undefined"===t)return"";if(t.length<=8)return t;var e=t.substr(0,8),a="...",r=t.substr(t.length-8,8);return e+a+r},fetchData:function(t,e){var a=this;fetch(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return a.notifyErr("Error: ".concat(t.message))}))},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})}}},l=new r["default"],u=l,d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:t.customClass?""+t.customClass:"btn button-theme",attrs:{title:t.title},on:{click:function(e){return t.emitExecuteAction()}}},[t.iconClass?a("span",[a("i",{class:t.iconClass})]):t._e(),t._v("  \n"+t._s(t.name)+" \n")])},p=[],h={props:{name:{type:String,require:!0},iconClass:{type:String,require:!1},customClass:{type:String,require:!1},title:{type:String,require:!1}},computed:{},methods:{emitExecuteAction:function(){this.$emit("executeAction")}}},m=h,f=(a("18b8"),a("2877")),g=Object(f["a"])(m,d,p,!1,null,null,null),v=g.exports;function S(t,e,a,r,i,n,s){try{var o=t[n](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(r,i)}function _(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function s(t){S(n,r,i,s,o,"next",t)}function o(t){S(n,r,i,s,o,"throw",t)}s(void 0)}))}}var b={components:{HfButtons:v},computed:{userDetails:function(){return this.$store.getters.userDetails},selectedOrg:function(){return this.$store.getters.getSelectedOrg},showSideNavbar:function(){return this.$store.state.showSideNavbar}},data:function(){return{collapsed:!0,showIcon:!1,isSidebarCollapsed:!0,authToken:localStorage.getItem("authToken"),schema_page:1,authRoutes:["register","PKIIdLogin"],user:{}}},mounted:function(){if(console.log(localStorage.getItem("user")),localStorage.getItem("user")){var t=localStorage.getItem("user");this.user=JSON.parse(t)}if(localStorage.getItem("selectedOrg")){var e=localStorage.getItem("selectedOrg");this.$store.commit("selectAnOrg",e),this.getList(e),this.getCredList(e),this.fetchTemplates(e)}u.$on("initializeStore",this.initializeStore),this.initializeStore()},methods:{getProfileIcon:function(t){return"https://avatars.dicebear.com/api/identicon/"+t+".svg"},logoutAll:function(){this.showIcon=!1,this.$router.push("/login"),this.logout()},onToggleCollapse:function(t){this.isSidebarCollapsed=!!t},initializeStore:function(){this.authToken=localStorage.getItem("authToken"),this.authToken?(this.showIcon=!0,this.fetchAllOrgs()):console.log("else")},getSideMenu:function(){var t=[{href:"/studio/dashboard",title:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/studio/schema",title:"Schema",icon:"fa fa-table"},{href:"/studio/credential",title:"Credentials",icon:"fa fa-id-card"},{href:"/studio/presentation",title:"Presentation",icon:"fa fa-desktop"}];return t},fetchAllOrgs:function(){var t=this,e="".concat(this.$config.studioServer.BASE_URL,"api/v1/org"),a={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};fetch(e,{headers:a}).then((function(t){return t.json()})).then((function(e){var a=e.data.org;a&&a.forEach((function(e){t.$store.commit("insertAnOrg",e)})),a&&a.length}))},fetchTemplates:function(t){var e=this,a="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.PRESENTATION_TEMPLATE_EP,"/org/").concat(t,"/"),r={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};fetch(a,{headers:r}).then((function(t){return t.json()})).then((function(t){t.data.forEach((function(t){e.$store.commit("insertApresentationTemplate",t)}))}))},getList:function(){var t=_(o.a.mark((function t(e){var a,r,i,n,s,c=this;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",r={},a="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SCHEMA_LIST_EP,"/").concat(e,"/?page=").concat(this.schema_page,"&limit=10"),r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}},t.next=6,fetch(a,r);case 6:return i=t.sent,t.next=9,i.json();case 9:if(n=t.sent,!n||500!=n.status){t.next=12;break}return t.abrupt("return",this.notifyErr("Error:  ".concat(n.error)));case 12:s=n.data.schemaList,s.forEach((function(t){c.$store.dispatch("insertAschema",t)}));case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getCredList:function(){var t=_(o.a.mark((function t(e){var a,r,i,n,s,c=this;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",r={},a="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_LIST_EP,"/").concat(e),r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}},t.next=6,fetch(a,r);case 6:return i=t.sent,t.next=9,i.json();case 9:if(n=t.sent,!n||500!=n.status){t.next=12;break}return t.abrupt("return",this.notifyErr("Error:  ".concat(n.error)));case 12:s=n.data.credList,s.forEach((function(t){c.$store.dispatch("insertAcredential",t)}));case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData"),this.isSidebarCollapsed=!0,this.collapsed=!0,localStorage.removeItem("selectedOrg"),this.$store.commit("resetStore")}},mixins:[c]},E=b,y=(a("07ab"),a("b0a0"),Object(f["a"])(E,i,n,!1,null,"b225aa28",null)),C=y.exports,P=a("8c4f"),O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"justify-content":"center","padding-top":"3%"}},[r("img",{staticClass:"align-center",staticStyle:{"margin-bottom":"20px"},attrs:{height:"60px",src:a("555a")}}),r("b-card",{staticClass:"loginContent event-card ",attrs:{"no-body":""}},[r("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),r("h4",[t._v("Admin Login")]),r("div",{staticClass:"row",staticStyle:{"margin-top":"3%"}},[t.QRRefresh?r("div",{staticClass:"QRRefresh"},[r("i",{staticClass:"fas fa-redo",staticStyle:{"font-size":"xx-large",color:"gray"},on:{click:t.reloadQR}}),r("p",[r("label",{staticStyle:{"font-size":"small",color:"grey","margin-top":"1%"}},[t._v("\n              Session expired. Click to reload.\n            ")])])]):r("form",{staticClass:"col-md-12"},[r("div",{staticClass:"form-group"},[""!=t.qr_data?r("vue-qr",{attrs:{margin:"1",text:t.qr_data,size:200,logoSrc:t.src2,logoBackgroundColor:"white",logoCornerRadius:"2"}}):t._e(),r("label",{staticStyle:{"font-size":"small",color:"grey","margin-top":"1%"}},[t._v("Scan QR code using Hypersign Mobile App")]),r("div",[r("span",{staticStyle:{"font-size":"small",color:"grey",padding:"10px"}},[t._v("\n                Get the app on\n                "),r("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.hypersign.cordova",target:"__blank"}},[t._v("Android")]),t._v("\n                or\n                "),r("a",{attrs:{href:t.$config.webWalletAddress,target:"__blank"}},[t._v("Web")])])])],1),r("h5",[r("span",[t._v("OR")])]),r("div",{staticClass:"mb-2 "},[""!=this.value?r("a",{staticClass:"btn btn-hypersign  button-theme",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openWallet()}}},[r("div",{staticStyle:{"font-size":"smaller",padding:"10px"}},[t._v("\n                Click To Login\n              ")])]):t._e()])])])],1)],1)},A=[],w=a("d7b0"),T=a("658f"),D=a.n(T),R=a("41aa"),L=a.n(R),x=a("522b");console.log(Object({NODE_ENV:"production",VUE_APP_TITLE:"Entity Studio",VUE_APP_DESC:"A portal to issue and verify credentials on Hypersign Identity network!",VUE_APP_VERSION:"v1.0",VUE_APP_STUDIO_SERVER_BASE_URL:"https://stage.hypermine.in/studioserver/",VUE_APP_STUDIO_SERVER_BASE_WS:"wss://stage.hypermine.in/studioserverws/",VUE_APP_NODE_SERVER_BASE_URL:"https://jagrat.hypersign.id/node1/rpc/",VUE_APP_NODE_SERVER_BASE_URL_REST:"https://jagrat.hypersign.id/node1/rest/",VUE_APP_SCHEMA_GET_EP_REST:"hypersign-protocol/hidnode/ssi/schema/",VUE_APP_NODE_SERVER_DID_RERSOLVE_EP:"hypersign-protocol/hidnode/ssi/did/",VUE_APP_ACCPCT_CRED_EP:"api/v1/credential/send",VUE_APP_EXPLORER_BASE_URL:"https://explorer.hypersign.id/",VUE_APP_STUDIO_SERVER_SAVE_SCHEMA:"api/v1/schema",VUE_APP_SCHEMA_LIST_EP:"api/v1/schema/org",VUE_APP_STUDIO_SERVER_CRED_LIST_EP:"api/v1/credential",VUE_APP_WEB_WALLET_ADDRESS:"https://wallet-stage.hypersign.id",VUE_APP_PRESENTATION_TEMPLATE_EP:"api/v1/presentation/template",VUE_APP_SSE:"https://stage.hypermine.in/studioserver/",BASE_URL:"/"}));var I={studioServer:{SCHEMA_SSE:"".concat("https://stage.hypermine.in/studioserver/","api/v1/schema/sse/"),CRED_SSE:"".concat("https://stage.hypermine.in/studioserver/","api/v1/credential/sse/"),ORG_SSE:"".concat("https://stage.hypermine.in/studioserver/","api/v1/org/sse/"),BASE_URL:"https://stage.hypermine.in/studioserver/",ACCPCT_CRED_EP:"api/v1/credential/send",SAVE_SCHEMA_EP:"api/v1/schema",CRED_LIST_EP:"api/v1/credential",SCHEMA_LIST_EP:"api/v1/schema/org",CRED_ISSUE_EP:Object({NODE_ENV:"production",VUE_APP_TITLE:"Entity Studio",VUE_APP_DESC:"A portal to issue and verify credentials on Hypersign Identity network!",VUE_APP_VERSION:"v1.0",VUE_APP_STUDIO_SERVER_BASE_URL:"https://stage.hypermine.in/studioserver/",VUE_APP_STUDIO_SERVER_BASE_WS:"wss://stage.hypermine.in/studioserverws/",VUE_APP_NODE_SERVER_BASE_URL:"https://jagrat.hypersign.id/node1/rpc/",VUE_APP_NODE_SERVER_BASE_URL_REST:"https://jagrat.hypersign.id/node1/rest/",VUE_APP_SCHEMA_GET_EP_REST:"hypersign-protocol/hidnode/ssi/schema/",VUE_APP_NODE_SERVER_DID_RERSOLVE_EP:"hypersign-protocol/hidnode/ssi/did/",VUE_APP_ACCPCT_CRED_EP:"api/v1/credential/send",VUE_APP_EXPLORER_BASE_URL:"https://explorer.hypersign.id/",VUE_APP_STUDIO_SERVER_SAVE_SCHEMA:"api/v1/schema",VUE_APP_SCHEMA_LIST_EP:"api/v1/schema/org",VUE_APP_STUDIO_SERVER_CRED_LIST_EP:"api/v1/credential",VUE_APP_WEB_WALLET_ADDRESS:"https://wallet-stage.hypersign.id",VUE_APP_PRESENTATION_TEMPLATE_EP:"api/v1/presentation/template",VUE_APP_SSE:"https://stage.hypermine.in/studioserver/",BASE_URL:"/"}).VUE_APP_STUDIO_SERVER_CRED_ISSUE_EP||"api/v1/credential",AUTH_CHALLENGE_EP:L.a.value("STUDIO_SERVER_AUTH_CHALLENGE_EP")||"api/auth/challenge",AUTH_LOGIN_EP:L.a.value("STUDIO_SERVER_AUTH_LOGIN_EP")||"api/auth/login",PRESENTATION_TEMPLATE_EP:"api/v1/presentation/template"},nodeServer:{BASE_URL:"https://jagrat.hypersign.id/node1/rpc/",BASE_URL_REST:"https://jagrat.hypersign.id/node1/rest/",SCHEMA_GET_REST:"hypersign-protocol/hidnode/ssi/schema/",NETWORK_STATUS_EP:L.a.value("NODE_SERVER_NETWORK_STATUS_EP")||"net_info",SCHEMA_LIST_EP:L.a.value("NODE_SERVER_SCHEMA_LIST_EP")||"api/schema/list",SCHEMA_GET_EP:L.a.value("NODE_SERVER_SCHEMA_GET_EP")||"api/schema/get",SCHEMA_CREATE_EP:L.a.value("NODE_SERVER_SCHEMA_CREATE_EP")||"api/schema/create",DID_RESOLVE_EP:L.a.value("NODE_SERVER_DID_RERSOLVE_EP")||"hypersign-protocol/hidnode/ssi/did/"},explorer:{BASE_URL:L.a.value("EXPLORER_BASE_URL"),NEW_DID_EP:L.a.value("EXPLORER_NEW_DID_EP")||"newdid"},app:{name:L.a.value("TITLE")||"Hypersign Studio",decription:L.a.value("DESC"),version:L.a.value("VERSION")}},$="wss://stage.hypermine.in/studioserverws/",N="https://wallet-stage.hypersign.id",k={nodeUrl:I.nodeServer.BASE_URL,didScheme:"did:hs"},U={did:x.did(k),credential:x.credential(k)};I["appName"]="Studio",I["hypersignSDK"]=U,I["websocketUrl"]=$,I["webWalletAddress"]=N;var j,V=I,B=a("9062"),H=a.n(B),M=(a("e40d"),void 0),q=(V.hypersignSDK,a("e2c9")),F=(q.sha256hashStr,{name:"Login",components:{QrcodeVue:w["a"],Loading:H.a,VueQr:D.a},data:function(){return{qr_data:"",src2:a("555a"),QRRefresh:!1,active:0,username:"",password:"",host:location.hostname,challenge:"dddd",domain:location.host,QRCodeValue:this.$route.query,credentials:{},userData:{},user:{},verifiablePresentation:"",fullPage:!0,isLoading:!1,connection:null,privateKey:"3isrtEJ4gt1ZHkdUYYph1WFAtzfqAL5WM6Hh1NC2hmWnDfBypXjt5oUFdAqQdiess2vqqQ3iF6x4fDVuvLw454sn",did:"did:hs:892325a4-75c9-465c-882b-91e3ca5143c3"}},created:function(){localStorage.clear(),document.title="".concat(V.appName," - Login"),this.connection=new WebSocket(this.$config.websocketUrl),console.log(this.$config.websocketUrl),this.connection.onopen=function(){console.log("Socket connection is open")},this.isLoading=!0;var t=this;this.connection.onmessage=function(e){var a=e.data,r=JSON.parse(a);if(console.log(r),"init"==r.op)t.isLoading=!1,r.data["provider"]="google",t.value=JSON.stringify(r.data),t.qr_data="".concat(t.$config.webWalletAddress,"/deeplink?url=").concat(t.value),console.log(t.qr_data);else if("end"==r.op){t.connection.close();var i=r.data.hypersign.data.accessToken,n=r.data.hypersign.data.refreshToken;localStorage.setItem("authToken",i),localStorage.setItem("refreshToken",n),u.$emit("initializeStore","login"),null!=localStorage.getItem("authToken")&&(this.walletWindow&&this.walletWindow.close(),null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("dashboard"))}else"reload"==r.op&&(t.QRRefresh=!0,t.connection.close(4001,r.data.clientId))},this.connection.onerror=function(t){console.log("Websocket connection error ",t)}},mounted:function(){this.clean()},methods:{reloadQR:function(){window.location.reload()},push:function(t){this.$router.push(t)},openWallet:function(){if(""!=this.value){var t="".concat(this.$config.webWalletAddress,"/deeplink?url=").concat(this.value);this.walletWindow=window.open(t,"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes")}},clean:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData")},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},gotosubpage:function(t){M.$router.push("".concat(t))}}}),W=F,J=(a("f0d6"),Object(f["a"])(W,O,A,!1,null,"18f4e5e8",null)),z=J.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"col-md-3",staticStyle:{"font-size":"small",color:"grey","margin-left":"36%"}},[a("form",{staticStyle:{padding:"6px"},attrs:{action:"#"}},[a("b-card",{staticStyle:{padding:"40px"},attrs:{"no-body":""}},[a("h4",[t._v("Sign Up")]),a("hr"),a("div",{staticClass:"row"},[a("form",{staticClass:"col-md-12",attrs:{action:"#"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fullName,expression:"fullName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter name"},domProps:{value:t.fullName},on:{input:function(e){e.target.composing||(t.fullName=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[t._v("Hypersign DID ("),a("a",{attrs:{href:""+t.$config.explorer.BASE_URL,target:"_blank"}},[t._v("Get a DID")]),t._v("):")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.did,expression:"did"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter DID (did:hs:...)"},domProps:{value:t.did},on:{input:function(e){e.target.composing||(t.did=e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3",attrs:{hidden:""}},[a("button",{staticClass:"btn btn-primary btn-sm floatLeft",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.downloadPresentation()}}},[t._v("View Proof")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.signup()}}},[t._v("Signup")])]),a("div",{staticClass:"col-md-9 floatRight"},[t._v("\n            Back to\n            "),a("a",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:function(e){return t.push("login")}}},[t._v("Login")])])])])],1)])],1)},G=[],K=a("a18f"),X=a.n(K),Z=void 0;function Y(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function tt(t,e,a,r,i,n,s){try{var o=t[n](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(r,i)}function et(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function s(t){tt(n,r,i,s,o,"next",t)}function o(t){tt(n,r,i,s,o,"throw",t)}s(void 0)}))}}var at=a("e2c9"),rt=(at.sha256hashStr,j={name:"Register",components:{}},Y(j,"components",{Loading:H.a}),Y(j,"data",(function(){return{active:0,fullName:"",email:"",phno:"",publicKey:"",username:"",password:"",host:location.hostname,keys:{},did:"",isLoading:!1,fullPage:!0}})),Y(j,"created",(function(){})),Y(j,"methods",{push:function(t){this.$router.push(t)},gotosubpage:function(t){Z.$router.push("".concat(t))},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},signup:function(){var t=et(o.a.mark((function t(){var e,a,r,i;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,""!=this.email&&""!=this.name&&""!=this.did){t.next=4;break}throw new Error("All fields are mandatory");case 4:return e={fname:this.fullName,email:this.email,publicKey:this.did},a="".concat(this.$config.studioServer.BASE_URL,"api/auth/register"),t.next=8,X()(a,{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}});case 8:return r=t.sent,t.next=11,r.json();case 11:if(i=t.sent,500!=i.status){t.next=15;break}throw this.isLoading=!1,new Error(i.error);case 15:this.isLoading=!1,alert("An email has been sent to you. Please click on the link to verify and download HypersignAuth credentials."),this.isLoading=!1,this.$router.push("login"),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 25:case"end":return t.stop()}}),t,this,[[1,21]])})));function e(){return t.apply(this,arguments)}return e}()}),j),it=rt,nt=(a("19f3"),Object(f["a"])(it,Q,G,!1,null,"c9b8fd9e",null)),st=nt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[a("Info",{attrs:{message:t.description}}),a("div",{staticClass:"form-group",staticStyle:{display:"flex"}},[t.vcList.length>0?a("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Credentials")]):a("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Issue your first credential!")]),a("hf-buttons",{staticClass:"btn btn-primary ml-auto mt-4",staticStyle:{"text-align":"right"},attrs:{name:"+ Credential"},on:{executeAction:function(e){return t.openSlider()}}})],1),a("StudioSideBar",{attrs:{title:"Issue Credential"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-12"},[a("form",{staticStyle:{"max-height":"300px",overflow:"auto",padding:"5px"}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"fordid"}},[a("strong",[t._v("Subject Did")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.holderDid,expression:"holderDid"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Issued To (did:hs:...)"},domProps:{value:t.holderDid},on:{input:function(e){e.target.composing||(t.holderDid=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"forselectschema"}},[a("strong",[t._v("Select Schemmma")])]),a("b-form-select",{staticClass:"mt-3",attrs:{options:t.selectOptions,size:"md"},on:{change:function(e){return t.OnSchemaSelectDropDownChange(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),1===t.selectOptions.length?a("span",{staticClass:"goschema",on:{click:function(e){return t.goToSchema()}}},[t._v("Create Schema")]):t._e(),t._l(t.issueCredAttributes,(function(e){return a("div",{key:e.name,staticClass:"form-group"},[a("label",{attrs:{for:"schDescription"}},[a("strong",[t._v(t._s(e.name))])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"attr.value"}],staticClass:"form-control",attrs:{type:"text",id:"schemaName","aria-describedby":"schemaNameHelp",placeholder:"Enter attribute value"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})])}))],2)])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-12"},[a("hr"),a("hf-buttons",{staticClass:"btn btn-primary ml-auto mt-4",staticStyle:{"text-align":"right"},attrs:{name:"Issue"},on:{executeAction:function(e){return t.issueCredential()}}})],1)])])])],1)]),t.vcList.length>0?a("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),a("tbody",t._l(t.vcList,(function(e){return a("tr",{key:e.vc_id},[a("td",[e.vc_id?a("a",{attrs:{href:e.vc_id+":",target:"_blank>"}},[t._v(t._s(t.shorten(e.vc_id)))]):t._e(),a("span",[t._v("-")])]),a("td",[a("a",{attrs:{href:""+t.$config.nodeServer.BASE_URL_REST+t.$config.nodeServer.SCHEMA_GET_REST+e.schemaId+":",target:"_blank"}},[t._v(t._s(t.shorten(e.schemaId)))])]),a("td",[t._v(t._s(e.subjectDid))]),a("td",[t._v(t._s(e.credStatus?e.credStatus.issuanceDate:"-"))]),a("td",[t._v(t._s(e.credStatus?e.credStatus.expirationDate:"-"))]),a("td",[t._v(" "+t._s(e.credStatus?e.credStatus.claim.currentStatus:e.status))]),a("td",[t._v(t._s(e.credStatus?e.credStatus.claim.statusReason:"-"))]),a("td",[e.credStatus?a("hf-buttons",{staticClass:"btn btn-primary",staticStyle:{"text-align":"right"},attrs:{name:"Send"},on:{executeAction:function(a){return t.generateCred(""+e._id)}}}):a("span",[t._v("-")])],1)])})),0)]),a("hf-pop-up",{attrs:{Header:"Accept Credential URL"}},[a("Info",{attrs:{message:"Copy and send this URL to the credential owner so that they can accept in their wallet"}}),a("p",{staticStyle:{"max-width":"500px","word-wrap":"break-word"}},[t._v(t._s(t.credUrl))])],1)],1)]):t._e()],1)},ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("VC Id")]),a("th",[t._v("Schema Id")]),a("th",[t._v("Holder DID")]),a("th",[t._v("Issuance Date")]),a("th",[t._v("Expiration Date")]),a("th",[t._v("Status")]),a("th",[t._v("Status Reason")]),a("th")])])}],lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"message"},[t._v("\n    "+t._s(t.message)+"\n")])},ut=[],dt={name:"Info",props:["message"],mounted:function(){}},pt=dt,ht=(a("7899"),Object(f["a"])(pt,lt,ut,!1,null,"7080b038",null)),mt=ht.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"modal-1",attrs:{"hide-footer":"",title:t.Header,centered:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._t("default")],2)},gt=[],vt={data:function(){return{show:!1}},props:{Header:{type:String,require:!0}},created:function(){this.openModal(),this.closeModal()},methods:{openModal:function(){var t=this;this.$root.$on("modal-show",(function(){t.show=!0}))},closeModal:function(){var t=this;this.$root.$on("modal-close",(function(){t.show=!1}))}}},St=vt,_t=Object(f["a"])(St,ft,gt,!1,null,null,null),bt=_t.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-sidebar",{attrs:{id:"sidebar-right",width:"40%",title:t.title,right:"",shadow:"",backdrop:""}},[t._t("default")],2)],1)},yt=[],Ct={props:{title:{type:String,required:!0}}},Pt=Ct,Ot=Object(f["a"])(Pt,Et,yt,!1,null,null,null),At=Ot.exports;function wt(t,e,a,r,i,n,s){try{var o=t[n](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(r,i)}function Tt(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function s(t){wt(n,r,i,s,o,"next",t)}function o(t){wt(n,r,i,s,o,"throw",t)}s(void 0)}))}}function Dt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Rt={name:"IssueCredential",components:{Info:mt,HfPopUp:bt,Loading:H.a,StudioSideBar:At,HfButtons:v},computed:{vcList:function(){return this.$store.state.vcList},selectOptions:function(){return this.$store.getters.listOfAllSchemaOptions},selectedOrg:function(){return this.$store.getters.getSelectedOrg}},data:function(){var t;return t={authToken:localStorage.getItem("authToken"),description:'An issuer can issue a credential to a subject (or holder) which can be verfied by the verifier independently, without having him to connect with the issuer. They are a part of our daily lives; driver\'s licenses are used to assert that we are capable of operating a motor vehicle, university degrees can be used to assert our level of education, and government-issued passports enable us to travel between countries.  For example: an airline company can issue a flight ticket ("verfiable credential") using schema (issued by DGCA) to the passenger.',active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{}},Dt(t,"authToken",localStorage.getItem("authToken")),Dt(t,"vcCredStatusMap",{}),Dt(t,"schemaList",[]),Dt(t,"fullPage",!0),Dt(t,"isLoading",!1),Dt(t,"holderDid",""),Dt(t,"schema_page",1),Dt(t,"credUrl",""),Dt(t,"QrData",{QRType:"ISSUE_CREDENTIAL",serviceEndpoint:"",schemaId:"",appDid:"",appName:"Hypersign Studio",challenge:"",provider:"",data:""}),t},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.$store.commit("updateSideNavStatus",!0)},beforeRouteEnter:function(t,e,a){a((function(t){t.prevRoute=e}))},methods:{goToSchema:function(){this.$router.push("schema")},openSlider:function(){this.clearAll(),this.$root.$emit("bv::toggle::collapse","sidebar-right")},ssePopulateCredStatus:function(t,e){var a=new EventSource("".concat(this.$config.studioServer.CRED_SSE).concat(t));a.onmessage=function(t){var r=JSON.parse(t.data);console.log(r),"Registered"!==r.status&&"Failed"!==r.status||(a.close(),e.dispatch("insertAcredential",r))},a.onopen=function(t){console.log("Connection to server opened.",t)},a.onerror=function(t){console.log(t),a.close()}},generateCred:function(){var t=Tt(o.a.mark((function t(e){var a,r,i,n,s;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},i=this.$config.studioServer.BASE_URL+this.$config.studioServer.ACCPCT_CRED_EP,t.next=5,X()(i,r);case 5:return n=t.sent,t.next=8,n.json();case 8:s=t.sent,this.credUrl=s.data.url,this.$root.$emit("modal-show"),this.notifySuccess("Cred Url Generated Successfully");case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"))},OnSchemaSelectDropDownChange:function(t){if(t){this.issueCredAttributes=[];var e=this.issueCredAttributes.length,a=this.$store.getters.findSchemaBySchemaID(t),r=a.schemaDetails.schema.properties;for(var i in r)this.issueCredAttributes.push({id:e+t,type:i.type,name:i,required:!0===i.required,value:""})}else this.issueCredAttributes=[]},forceFileDownload:function(t,e){var a=window.URL.createObjectURL(new Blob([t])),r=document.createElement("a");r.href=a,r.setAttribute("download",e),document.body.appendChild(r),r.click()},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiableCredential),"vc.json")},generateAttributeMap:function(){var t=[];return this.issueCredAttributes.length>0&&this.issueCredAttributes.forEach((function(e){t[e.name]=e.value})),console.log(t),t},issueCredential:function(){var t=Tt(o.a.mark((function t(){var e,a,r,i,n,s,c,l,u=this;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.isLoading=!0,""!=this.holderDid){t.next=4;break}throw new Error("Please enter the holder did");case 4:if(null!=this.selected){t.next=6;break}throw new Error("Please select a schema");case 6:return t.next=8,this.generateAttributeMap();case 8:e=t.sent,a=Object.assign({},e),r=this.selected,i=this.user.id,n=this.holderDid,s="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_ISSUE_EP),c={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)},l={fields:a,schemaId:r,issuerDid:i,subjectDid:n,orgDid:this.$store.state.selectedOrgDid},this.QrData.data=l,X()(s,{method:"POST",headers:c,body:JSON.stringify({QR_DATA:this.QrData})}).then((function(t){return t.json()})).then((function(t){var e=t.data,a=e.QR_DATA,r=e.creadRecord;u.$store.dispatch("insertAcredential",r);var i="".concat(u.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(a));u.openWallet(i),u.ssePopulateCredStatus(r._id,u.$store),u.openSlider()})),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](0),this.isLoading=!1,this.notifyErr("Error: ".concat(t.t0.message));case 24:return t.prev=24,this.isLoading=!1,t.finish(24);case 27:case"end":return t.stop()}}),t,this,[[0,20,24,27]])})));function e(){return t.apply(this,arguments)}return e}(),clearAll:function(){this.holderDid="",this.selected=null,this.issueCredAttributes=[]}},mixins:[c]},Lt=Rt,xt=(a("8bdf"),Object(f["a"])(Lt,ot,ct,!1,null,"60e0df42",null)),It=xt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[a("Info",{attrs:{message:t.description}}),a("div",{staticClass:"form-group",staticStyle:{display:"flex"}},[t.templateList.length>0?a("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Schema")]):a("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Create your first presentation template!")]),a("hf-buttons",{staticClass:"btn btn-primary ml-auto mt-4",staticStyle:{"text-align":"right"},attrs:{name:"+ Presentation Template"},on:{executeAction:function(e){return t.openSlider()}}})],1),a("StudioSideBar",{attrs:{title:"Create Presentation Template"}},[a("div",{staticClass:"form-group row container"},[a("div",{staticClass:"col-md-12"},[a("form",[a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[a("strong",[t._v(" Domain :")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.domain,expression:"presentationTemplate.domain"}],staticClass:"form-control",attrs:{type:"url"},domProps:{value:t.presentationTemplate.domain},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"domain",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[a("strong",[t._v("Name (optional) :")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.name,expression:"presentationTemplate.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.presentationTemplate.name},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[a("strong",[t._v(" IssuerDid :")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.issuerDid,expression:"presentationTemplate.issuerDid"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.presentationTemplate.issuerDid},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"issuerDid",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"forselectschema"}},[a("strong",[t._v("Select Schema")])]),a("b-form-select",{staticClass:"mt-3",attrs:{options:t.selectOptions,size:"md"},on:{change:function(e){return t.OnSchemaSelectDropDownChange(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),1===t.selectOptions.length?a("span",{staticClass:"goschema",on:{click:function(e){return t.goToSchema()}}},[t._v("Create Schema")]):t._e()],1),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[a("strong",[t._v("Reason :")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.reason,expression:"presentationTemplate.reason"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.presentationTemplate.reason},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"reason",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft"},[a("strong",[t._v("Callback URI")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.callbackUrl,expression:"presentationTemplate.callbackUrl"}],staticClass:"form-control",attrs:{type:"url"},domProps:{value:t.presentationTemplate.callbackUrl},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"callbackUrl",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"floatLeft "},[a("strong",[t._v("Required :")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.required,expression:"presentationTemplate.required"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.presentationTemplate.required)?t._i(t.presentationTemplate.required,null)>-1:t.presentationTemplate.required},on:{change:function(e){var a=t.presentationTemplate.required,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=null,s=t._i(a,n);r.checked?s<0&&t.$set(t.presentationTemplate,"required",a.concat([n])):s>-1&&t.$set(t.presentationTemplate,"required",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.presentationTemplate,"required",i)}}})])]),a("hr"),a("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Generate"},on:{executeAction:function(e){return t.generatePresentation()}}})],1)])])],1)]),t.templateList.length>0?a("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),a("tbody",t._l(t.templateList,(function(e){return a("tr",{key:e},[a("td",[t._v(t._s(e._id))]),a("td",[t._v(t._s(e.domain))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.issuerDid.toString()))]),a("td",[t._v(t._s(t.shorten(e.schemaId)))]),a("td",[t._v(t._s(e.reason))]),a("td",[t._v(t._s(e.callbackUrl))])])})),0)])])]):t._e()],1)},Nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("Template Id ")]),a("th",[t._v("Domain")]),a("th",[t._v("Name")]),a("th",[t._v("Issuer DID")]),a("th",[t._v("Schema Id")]),a("th",[t._v("Reason")]),a("th",[t._v("CallbackUrl")])])])}],kt=void 0;function Ut(t,e,a,r,i,n,s){try{var o=t[n](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(r,i)}function jt(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function s(t){Ut(n,r,i,s,o,"next",t)}function o(t){Ut(n,r,i,s,o,"throw",t)}s(void 0)}))}}function Vt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Bt=V.hypersignSDK,Ht={name:"Presentation",components:{QrcodeVue:w["a"],Info:mt,StudioSideBar:At,HfButtons:v},computed:{templateList:function(){return this.$store.state.templateList},selectedOrg:function(){return this.$store.getters.getSelectedOrg},selectOptions:function(){return this.$store.getters.listOfAllSchemaOptions}},data:function(){var t;return t={description:"The subject (or holder) generates verifiable presentation from one or more verifiable       credentials, issued by one or more issuers, that is shared with a specific verifier.       A verifiable presentation is a tamper-evident presentation encoded in such a way that       authorship of the data can be trusted after a process of cryptographic verification.       Certain types of verifiable presentations might contain data that is synthesized from,       but do not contain, the original verifiable credentials for example, in order to proof the       subject that he/she is an adult, she/he does not have to tell his/her actual age       (i.e. Zero knowledge proof). The airline passenger might not have to show the complete ticket      to the secruity personal to pass the security check. The passenger will have ability to show       just one document (the verifiable presentation) derived from his passport and air ticket to      show at the security check.",presentationTemplate:{queryType:"QueryByExample",domain:"",name:"",issuerDid:"",schemaId:"",reason:"",required:!0,callbackUrl:""},selected:null,active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}]},Vt(t,"selected",null),Vt(t,"attributeValues",{}),Vt(t,"authToken",localStorage.getItem("authToken")),Vt(t,"schemaMap",{}),Vt(t,"vcList",[]),Vt(t,"schemaList",[]),Vt(t,"fullPage",!0),Vt(t,"isLoading",!1),Vt(t,"holderDid","did:hs:8b915133-cb8b-4151-9a63-1b91f702297f"),Vt(t,"signedVerifiablePresentation",{}),Vt(t,"presentationDetails",{credentialType:{}}),Vt(t,"isClaims",!1),t},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.$store.commit("updateSideNavStatus",!0)},beforeRouteEnter:function(t,e,a){a((function(t){t.prevRoute=e}))},methods:{goToSchema:function(){this.$router.push("schema")},OnSchemaSelectDropDownChange:function(t){t?this.presentationTemplate.schemaId=this.selected:this.schemaId=""},clearAll:function(){this.presentationTemplate.issuerDid="",this.presentationTemplate.domain="",this.presentationTemplate.name="",this.presentationTemplate.required=!0,this.presentationTemplate.callbackUrl="",this.presentationTemplate.reason="",this.selected=null},openSlider:function(){this.clearAll(),this.presentationTemplate.issuerDid=JSON.parse(localStorage.getItem("user")).id,this.presentationTemplate.domain=this.selectedOrg.domain,this.$root.$emit("bv::toggle::collapse","sidebar-right")},showClaims:function(){this.isClaims?this.isClaims=!1:this.isClaims=!0},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},fetchData:function(t,e){var a=this;X()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return a.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){kt.$router.push("".concat(t))},addBlankAttrBox:function(){" "!=this.attributeName&&(this.attributes.push(this.attributeName),this.attributeName=" ")},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiablePresentation),"vp.json")},onfileLoadSuccess:function(t){var e=JSON.parse(t.target.result);e||this.notifyErr("Incorrect file");var a=e["type"];a.find((function(t){return"VerifiableCredential"==t}))?(localStorage.removeItem("credential"),localStorage.setItem("credential",JSON.stringify(e))):a.find((function(t){return"VerifiablePresentation"==t}))?(localStorage.removeItem("presentation"),localStorage.setItem("presentation",JSON.stringify(e))):this.notifyErr("Invalid file")},readFile:function(t,e){var a=new FileReader;a.onload=e,a.readAsText(t)},onFileChange:function(t){var e=t.target.files[0];this.readFile(e,this.onfileLoadSuccess)},generatePresentation:function(){var t=jt(o.a.mark((function t(){var e,a,r,i,n=this;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.isLoading=!0;try{e=this.presentationTemplate.issuerDid.split(","),a={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)},r={issuerDid:e,queryType:this.presentationTemplate.queryType,domain:this.presentationTemplate.domain,name:this.presentationTemplate.name,schemaId:this.presentationTemplate.schemaId,reason:this.presentationTemplate.reason,required:this.presentationTemplate.required,callbackUrl:this.presentationTemplate.callbackUrl,orgDid:this.$store.state.selectedOrgDid},i="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.PRESENTATION_TEMPLATE_EP),X()(i,{body:JSON.stringify(r),method:"POST",headers:a}).then((function(t){return t.json()})).then((function(t){n.$store.commit("insertApresentationTemplate",t.data.presentationTemplateObj),n.notifySuccess("Template Successfully created"),n.openSlider()}))}catch(s){this.isLoading=!1,this.notifyErr(s.message)}case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),viewPresentation:function(){this.isLoading=!0;try{var t=JSON.parse(localStorage.getItem("presentation"));if(!t)throw new Error("Please select verifiable presentation file");var e=t.verifiableCredential[0];this.presentationDetails={},this.presentationDetails.credentialType={name:e.type[1],url:e["@context"][1]["hsscheme"]},this.presentationDetails.issuerDid=e.issuer,this.presentationDetails.holderDid=e.credentialSubject.id,this.presentationDetails.issuanceDate=e.issuanceDate,this.presentationDetails.expirationDate=e.expirationDate,this.presentationDetails.claim=e.credentialSubject}catch(a){this.isLoading=!1,this.notifyErr(a.message)}},clear:function(){this.presentationDetails="",localStorage.removeItem("presentation"),localStorage.removeItem("credential"),this.$refs.vpFile.value=null,this.$refs.vcFile.value=null,this.signedVerifiablePresentation={},this.isCredentialIssued=!1},verifyPresentation:function(){var t=jt(o.a.mark((function t(){var e,a,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,e=JSON.parse(localStorage.getItem("presentation")),e){t.next=5;break}throw new Error("Please select verifiable presentation file");case 5:return a=e.verifiableCredential[0],t.next=8,Bt.credential.verifyPresentation({presentation:e,challenge:"test_challenge",issuerDid:a.issuer,holderDid:a.credentialSubject.id});case 8:r=t.sent,r.verified?this.notifySuccess("Presentation verified"):this.notifyErr("Presentation can not verified"),this.isLoading=!1,this.clear(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 18:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(){return t.apply(this,arguments)}return e}()},mixins:[c]},Mt=Ht,qt=(a("9de5"),Object(f["a"])(Mt,$t,Nt,!1,null,"bfacf140",null)),Ft=qt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("h3",[t._v("Welcome, "+t._s(t.user.name)+" !")]),a("Metrics"),a("org-sidebar")],1)},Jt=[],zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{padding:"10px"}},[a("div",{staticClass:"col-md-6",staticStyle:{"margin-left":"40%"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("\n            NETWORK DETAILS "),!0===t.networkStatus.result.listening?a("span",{staticClass:"dot"}):t._e()]),a("div",{staticClass:"card-body leftAlign"},[a("p",[t._v("NETWORK\n            ")]),a("p",{staticClass:"fVal"},[t._v(t._s(t.networkStatus.result.peers[0].node_info.network.toUpperCase()+"  NETWORK"))]),a("p",[t._v("NODE URL\n            ")]),a("p",{staticClass:"fVal"},[a("a",{attrs:{href:t.networkStatus.nodeUrl,target:"_blank"}},[t._v(t._s(this.$config.nodeServer.BASE_URL))])]),a("p",[t._v("EXPLORER URL\n            ")]),a("p",{staticClass:"fVal"},[a("a",{attrs:{href:t.networkStatus.explorerUrl,target:"_blank"}},[t._v(t._s(this.$config.explorer.BASE_URL))])])])])])])},Qt=[],Gt=void 0;function Kt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Xt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(a),!0).forEach((function(e){Zt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Kt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Zt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Yt(t,e,a,r,i,n,s){try{var o=t[n](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(r,i)}function te(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function s(t){Yt(n,r,i,s,o,"next",t)}function o(t){Yt(n,r,i,s,o,"throw",t)}s(void 0)}))}}var ee={name:"PanelPage",mounted:function(){},components:{},data:function(){return{active:0,networkStatus:{result:{listening:"false",listeners:[],n_peers:"",peers:[{}]},status:"DOWN",nodeUrl:"",explorerUrl:this.$config.explorer.BASE_URL,schemaCount:"0",didCount:"0"}}},created:function(){var t=te(o.a.mark((function t(){var e,a=this;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.NETWORK_STATUS_EP),t.next=3,fetch(e).then((function(t){return t.json()})).then((function(t){a.networkStatus=Xt({},t),console.log(a.networkStatus.result.peers[0])})).catch((function(t){return alert("Error: ".concat(t.message))}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{gotosubpage:function(t){Gt.$router.push("".concat(t))}}},ae=ee,re=(a("cce2"),Object(f["a"])(ae,zt,Qt,!1,null,"3109faa8",null)),ie=re.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body tile"},[t._v(t._s(t.allMetricsData.schemasCount))]),a("div",{staticClass:"card-header"},[t._v("AUTHORED SCHEMAS")])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body tile"},[t._v(t._s(t.allMetricsData.credentialsCount))]),a("div",{staticClass:"card-header"},[t._v("ISSUED CREDENTIALS")])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body tile"},[t._v(t._s(t.allMetricsData.orgsCount))]),a("div",{staticClass:"card-header"},[t._v("ORGANIZATIONS")])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body tile"},[t._v(t._s(t.allMetricsData.templatesCount))]),a("div",{staticClass:"card-header"},[t._v("PRESENTATION TEMPLATES")])])])])},se=[],oe=void 0;function ce(t,e,a,r,i,n,s){try{var o=t[n](s),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(r,i)}function le(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function s(t){ce(n,r,i,s,o,"next",t)}function o(t){ce(n,r,i,s,o,"throw",t)}s(void 0)}))}}function ue(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function de(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(a),!0).forEach((function(e){pe(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ue(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function pe(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var he={name:"Metrics",mounted:function(){},components:{},computed:{allMetricsData:function(){return this.$store.getters.allMetricsData}},data:function(){return{active:0,userKeys:[],appList:[],user:{id:"",publicKey:"",email:"",phoneNumber:"",fname:""},authToken:localStorage.getItem("authToken")}},created:function(){var t=localStorage.getItem("user");this.user=de({},JSON.parse(t)),this.userKeys=Object.keys(this.user),this.authToken&&this.profile()},methods:{profile:function(){var t=le(o.a.mark((function t(){var e,a,r,i;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="",a={},e="".concat(this.$config.studioServer.BASE_URL,"api/v1/user/profile"),a={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}},t.next=6,fetch(e,a);case 6:return r=t.sent,t.next=9,r.json();case 9:i=t.sent,this.$store.commit("addCountDataToProfile",i.data);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),gotosubpage:function(t){oe.$router.push("".concat(t))}}},me=he,fe=(a("f5ce"),Object(f["a"])(me,ne,se,!1,null,"51eeb43e",null)),ge=fe.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"form-group",staticStyle:{display:"flex"}},[t.orgList.length>0?a("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Organizations")]):a("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Create your first organization!")]),a("hf-buttons",{staticClass:"btn btn-primary ml-auto mt-4",staticStyle:{"text-align":"right"},attrs:{name:"+ Organization"},on:{executeAction:function(e){return t.openSlider()}}})],1),a("StudioSideBar",{attrs:{title:t.edit?"Edit Organization":"Add Organization"}},[a("div",{staticClass:"container"},[t.orgStore.orgDid?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orgName"}},[a("strong",[t._v("Org DID:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orgStore.orgDid,expression:"orgStore.orgDid"}],staticClass:"form-control",attrs:{type:"text",id:"orgDid","aria-describedby":"orgNameHelp",disabled:""},domProps:{value:t.orgStore.orgDid},on:{input:function(e){e.target.composing||t.$set(t.orgStore,"orgDid",e.target.value)}}}),a("small",{staticClass:"form-text text-muted",attrs:{id:"orgNameHelp"}},[a("a",{attrs:{href:""+t.$config.nodeServer.BASE_URL_REST+t.$config.nodeServer.DID_RESOLVE_EP+t.orgStore.orgDid+":",target:"_blank"}},[t._v("Resolve DID")])])]):a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orgName"}},[a("strong",[t._v("Org ID:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orgStore._id,expression:"orgStore._id"}],staticClass:"form-control",attrs:{type:"text",id:"orgDid","aria-describedby":"orgNameHelp",disabled:""},domProps:{value:t.orgStore._id},on:{input:function(e){e.target.composing||t.$set(t.orgStore,"_id",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orgName"}},[a("strong",[t._v("Organization Name:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orgStore.name,expression:"orgStore.name"}],staticClass:"form-control",attrs:{type:"text",id:"orgName","aria-describedby":"orgNameHelp",placeholder:"Enter your org name"},domProps:{value:t.orgStore.name},on:{input:function(e){e.target.composing||t.$set(t.orgStore,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"domain"}},[a("strong",[t._v("Domain:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orgStore.domain,expression:"orgStore.domain"}],staticClass:"form-control",attrs:{type:"text",id:"domain","aria-describedby":"domainHelp",placeholder:"Enter your domain name"},domProps:{value:t.orgStore.domain},on:{input:function(e){e.target.composing||t.$set(t.orgStore,"domain",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"logo"}},[a("strong",[t._v("Logo URL:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orgStore.logo,expression:"orgStore.logo"}],staticClass:"form-control",attrs:{type:"text",id:"logo","aria-describedby":"logoHelp",placeholder:"Enter logo URL"},domProps:{value:t.orgStore.logo},on:{input:function(e){e.target.composing||t.$set(t.orgStore,"logo",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"region"}},[a("strong",[t._v("Region:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orgStore.region,expression:"orgStore.region"}],staticClass:"form-control",attrs:{type:"text",id:"region","aria-describedby":"regionHelp",placeholder:"Select your region"},domProps:{value:t.orgStore.region},on:{input:function(e){e.target.composing||t.$set(t.orgStore,"region",e.target.value)}}})]),t.edit?a("div",{staticClass:"form-group"},[a("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Update"},on:{executeAction:function(e){return t.createAnOrg()}}})],1):a("div",{staticClass:"form-group"},[a("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Save"},on:{executeAction:function(e){return t.createAnOrg()}}})],1)])]),t.orgList.length>0?a("div",{staticClass:"row"},t._l(t.orgList,(function(e){return a("div",{key:e._id,staticClass:"col-lg-4"},[a("b-card",{staticClass:"mb-2 eventCard",staticStyle:{"max-width":"30rem","margin-top":"10px","max-height":"25rem"},attrs:{title:e.name,tag:"article","img-top":""}},[a("ul",{staticStyle:{"list-style-type":"none","padding-left":"0px","min-height":"80px"}},[a("li",[a("span",{staticClass:"card-title"},[t._v(t._s(e.orgDid))])]),a("li",[a("span",{staticClass:"card-title"},[t._v(t._s(e.network))])]),a("li",[a("span",{staticClass:"card-title"},[t._v(t._s(e.domain))])])]),a("footer",[a("div",{staticClass:"form-group row",staticStyle:{"margin-bottom":"0rem"}},[a("div",{staticClass:"col-sm-10"},[a("ul",{staticStyle:{"list-style-type":"none","padding-left":"0px"}},["Failed"===e.status?a("li",[a("span",{staticClass:"card-title"},[a("img",{attrs:{src:t.images.redcross,height:"25",width:"25"}}),t._v(" Failed\n            ")])]):"Registered"===e.status?a("li",[a("span",{staticClass:"card-title"},[a("img",{attrs:{src:t.images.greentick,height:"21",width:"21"}}),t._v(" Registered\n            ")])]):a("li",[a("span",{staticClass:"card-title"},[a("img",{attrs:{src:t.images.loader,height:"25",width:"25"}}),t._v(" Processing ..... \n            ")])])])]),a("div",{staticClass:"pt-1 pl-2"},[a("i",{staticClass:"fas fa-pencil-alt",staticStyle:{cursor:"pointer"},attrs:{title:"Click to edit this event"},on:{click:function(a){return t.editOrg(e._id)}}}),a("span",{staticClass:"ml-3"}),a("i",{staticClass:"fas fa-sync",staticStyle:{cursor:"pointer"},attrs:{"aria-hidden":"true",title:"Click to switch to org"},on:{click:function(a){return t.switchOrg(e._id)}}})])])])])],1)})),0):t._e()],1)},Se=[];function _e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function be(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(a),!0).forEach((function(e){Ee(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ee(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var ye={comments:{HfButtons:v},computed:{orgList:function(){return this.$store.state.orgList}},data:function(){return{edit:!1,orgStore:{name:"Hypermine Pvt Ltd",domain:"hypermine.in",logo:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.5EZ51foyo3QBV2FHnKq1cwHaEc%26pid%3DApi&f=1",region:"US EAST",network:"Jagrat",orgDid:"",userDid:"",status:""},authToken:localStorage.getItem("authToken"),isLoading:!0,isProcessFinished:!0,images:{greentick:a("478e"),redcross:a("d199"),loader:a("b982")}}},components:{HfPopUp:bt,Loading:H.a,StudioSideBar:At,HfButtons:v},methods:{ssePopulateOrg:function(t,e){var a=new EventSource("".concat(this.$config.studioServer.ORG_SSE).concat(t));a.onmessage=function(t){var r=JSON.parse(t.data);"Registered"!==r.status&&"Failed"!==r.status||(a.close(),e.commit("insertAnOrg",r),e.commit("increaseOrgCount"))},a.onopen=function(t){console.log("Connection to server opened.",t)},a.onerror=function(t){console.log(t),a.close()}},openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"),this.isProcessFinished=!1)},switchOrg:function(t){localStorage.setItem("selectedOrg",t),this.$store.commit("updateSideNavStatus",!0),this.$store.commit("selectAnOrg",t),this.$router.push("/studio/credential"),this.$store.dispatch("fetchAllOrgDataOnOrgSelect",t)},openSlider:function(){this.edit=!1,this.clearAll(),this.$root.$emit("bv::toggle::collapse","sidebar-right")},editOrg:function(t){this.edit=!0,this.$root.$emit("bv::toggle::collapse","sidebar-right"),Object.assign(this.orgStore,be({},this.$store.getters.findOrgByOrgID(t)))},createAnOrg:function(){var t,e,a=this;this.edit?(e="PUT",t="".concat(this.$config.studioServer.BASE_URL,"api/v1/org")):(t="".concat(this.$config.studioServer.BASE_URL,"api/v1/org"),e="POST");var r={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};this.orgStore.userDid=JSON.parse(localStorage.getItem("user")).id;var i={orgData:this.orgStore};this.isLoading=!0,fetch(t,{method:e,body:JSON.stringify(i),headers:r}).then((function(t){return t.json()})).then((function(t){var e=t.data.org;if(!a.edit){var r=t.data.QrData,i="".concat(a.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(r));a.openWallet(i)}!1===t.error&&(a.edit||(a.$store.commit("insertAnOrg",t.data.org),a.$store.commit("selectAnOrg",t.data.org._id),a.isProcessFinished=!0,a.openSlider(),a.notifySuccess("Org Created successfull"),a.ssePopulateOrg(e._id,a.$store)),!0===a.edit&&(a.$store.commit("updateAnOrg",t.data.org),a.notifySuccess("Org Edited successfull"),a.$root.$emit("bv::toggle::collapse","sidebar-right")))})).catch((function(t){console.log(t),a.notifyError("Something went wrong")})).finally((function(){a.isLoading=!1}))},clearAll:function(){this.orgStore={name:"",domain:"",logo:"",region:"",network:"",orgDid:"",userDid:"",status:""}}},mixins:[c]},Ce=ye,Pe=(a("50c7"),Object(f["a"])(Ce,ve,Se,!1,null,"02649b6c",null)),Oe=Pe.exports,Ae=void 0,we={name:"PanelPage",components:{Dashboard:ie,Metrics:ge,OrgSidebar:Oe},data:function(){return{appList:[],user:{},appName:"",authToken:localStorage.getItem("authToken")}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.$store.commit("updateSideNavStatus",!1),this.$store.commit("selectAnOrg",""),localStorage.removeItem("selectedOrg")},methods:{gotosubpage:function(t){Ae.$router.push("".concat(t))},logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData"),null!=this.$route.params.nextUrl?this.$router.push(this.$route.params.nextUrl):this.$router.push("/login")}}},Te=we,De=(a("14e5"),Object(f["a"])(Te,Wt,Jt,!1,null,"318f10b7",null)),Re=De.exports,Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[a("Info",{attrs:{message:t.description}}),a("div",{staticClass:"form-group",staticStyle:{display:"flex"}},[t.schemaList.length>0?a("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Schema")]):a("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Create your first schema!")]),a("hf-buttons",{staticClass:"btn btn-primary ml-auto mt-4",staticStyle:{"text-align":"right"},attrs:{name:"+ Schema"},on:{executeAction:function(e){return t.openSlider()}}})],1),a("StudioSideBar",{attrs:{title:"Create Schema"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"schemaName"}},[a("strong",[t._v("Schema Name:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.credentialName,expression:"credentialName"}],staticClass:"form-control",attrs:{type:"text",id:"schemaName","aria-describedby":"schemaNameHelp"},domProps:{value:t.credentialName},on:{input:function(e){e.target.composing||(t.credentialName=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"schDescription"}},[a("strong",[t._v("Description:")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.credentialDescription,expression:"credentialDescription"}],staticClass:"form-control",attrs:{type:"text",id:"schDescription",rows:"5",cols:"20","aria-describedby":"orgNameHelp"},domProps:{value:t.credentialDescription},on:{input:function(e){e.target.composing||(t.credentialDescription=e.target.value)}}})]),a("div",{staticClass:"form-group card"},[a("div",{staticClass:"card-header"},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"link"}},[t._v("Fields Configurations")])],1),a("b-collapse",{staticClass:"mt-2",staticStyle:{padding:"10px"},attrs:{id:"collapse-1"}},[t.attributes.length>0?a("div",{staticClass:"form-group tile"},t._l(t.attributes,(function(e){return a("div",{key:e.type},[a("div",{staticClass:"sm-tiles"},[t._v("\n                        "+t._s(e.name)+"\n                        "),a("span",[t._v("x")])])])})),0):t._e(),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"ipattributeName"}},[t._v("Name")]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeName,expression:"attributeName"}],staticClass:"form-control",attrs:{type:"text",id:"ipattributeName",placeholder:""},domProps:{value:t.attributeName},on:{input:function(e){e.target.composing||(t.attributeName=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"type"}},[t._v("Type")]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeTypes,expression:"attributeTypes"}],staticClass:"form-control",attrs:{type:"text",id:"type",placeholder:""},domProps:{value:t.attributeTypes},on:{input:function(e){e.target.composing||(t.attributeTypes=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"type"}},[t._v("Format")]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeFormat,expression:"attributeFormat"}],staticClass:"form-control",attrs:{type:"text",id:"type",placeholder:"Enter attribute Format (eg email)"},domProps:{value:t.attributeFormat},on:{input:function(e){e.target.composing||(t.attributeFormat=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"required"}},[t._v("Required?")]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeRequired,expression:"attributeRequired"}],attrs:{type:"checkbox",id:"required"},domProps:{checked:Array.isArray(t.attributeRequired)?t._i(t.attributeRequired,null)>-1:t.attributeRequired},on:{change:function(e){var a=t.attributeRequired,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=null,s=t._i(a,n);r.checked?s<0&&(t.attributeRequired=a.concat([n])):s>-1&&(t.attributeRequired=a.slice(0,s).concat(a.slice(s+1)))}else t.attributeRequired=i}}})])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10"},[a("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Add +"},on:{executeAction:function(e){return t.addBlankAttrBox()}}})],1)])])],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"schDescription"}},[a("strong",[t._v("Additional Properties?:")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.additionalProperties,expression:"additionalProperties"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.additionalProperties)?t._i(t.additionalProperties,null)>-1:t.additionalProperties},on:{change:function(e){var a=t.additionalProperties,r=e.target,i=!!r.checked;if(Array.isArray(a)){var n=null,s=t._i(a,n);r.checked?s<0&&(t.additionalProperties=a.concat([n])):s>-1&&(t.additionalProperties=a.slice(0,s).concat(a.slice(s+1)))}else t.additionalProperties=i}}})]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-12"},[a("hr"),a("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Create"},on:{executeAction:function(e){return t.createSchema()}}})],1)])])])],1)]),t.schemaList.length>0?a("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),a("tbody",t._l(t.schemaList,(function(e){return a("tr",{key:e._id},[a("td",[a("a",{attrs:{href:""+t.$config.nodeServer.BASE_URL_REST+t.$config.nodeServer.SCHEMA_GET_REST+e.schemaId+":",target:"_blank"}},[t._v(t._s(e.schemaId?t.shorten(e.schemaId):"-"))])]),a("td",[t._v(t._s(e.schemaDetails?e.schemaDetails.name:"-"))]),a("td",[t._v(t._s(e.schemaDetails?e.schemaDetails.modelVersion:"-"))]),a("td",{staticClass:"word-wrap"},[t._v(t._s(e.schemaDetails?e.schemaDetails.schema.description:"-"))]),a("td",{staticClass:"word-wrap"},[t._v(t._s(e.schemaDetails?Object.keys(e.schemaDetails.schema.properties).toString():"-"))]),a("td",[t._v(t._s(e.schemaDetails?e.schemaDetails.authored:"-"))]),a("td",{staticStyle:{"word-wrap":"break-word","min-width":"200px","max-width":"200px"}},[e.transactionHash?a("a",{attrs:{target:"_blank",href:t.$config.explorer.BASE_URL+"explorer/txdetails?hash=0x"+e.transactionHash}},[t._v(t._s(t.shorten("0x"+e.transactionHash)))]):a("span",[t._v("-")])]),a("td",[t._v(t._s(e.status))])])})),0)])])]):t._e()],1)},xe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",[t._v("Schema Id")]),a("th",[t._v("Name")]),a("th",[t._v("Model Version")]),a("th",[t._v("Description")]),a("th",[t._v("Properties")]),a("th",[t._v("Created At")]),a("th",[t._v("Transaction Hash")]),a("th",[t._v("Status")])])])}],Ie=void 0,$e={name:"IssueCredential",components:{QrcodeVue:w["a"],Info:mt,Loading:H.a,StudioSideBar:At,HfButtons:v},computed:{schemaList:function(){return this.$store.state.schemaList},selectedOrg:function(){return this.$store.getters.getSelectedOrg}},data:function(){return{description:"Credential Schema defines what information will go inside a verifiable credential. For example: Directorate General of Civil Aviation (DGCA) can define a schema (or format) for flights tickets, being issued by all airline companies in India.",active:0,host:location.hostname,user:{},page:1,prevRoute:null,attributeName:"",attributeTypes:"",attributeFormat:"",attributeRequired:!1,attributes:[],issueCredAttributes:[],additionalProperties:!1,showSchema:!0,radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",authToken:localStorage.getItem("authToken"),credentialDescription:"",fullPage:!0,isLoading:!1,QrData:{QRType:"ISSUE_SCHEMA",serviceEndpoint:"",schemaId:"",appDid:"",appName:"Hypersign Studio",challenge:"",provider:"",data:""}}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.$store.commit("updateSideNavStatus",!0)},beforeRouteEnter:function(t,e,a){a((function(t){t.prevRoute=e}))},methods:{openSlider:function(){this.clearAll(),this.$root.$emit("bv::toggle::collapse","sidebar-right")},gotosubpage:function(t){Ie.$router.push("".concat(t))},clearAll:function(){this.attributeName="",this.attributeTypes="",this.attributeFormat="",this.attributeRequired=!1,this.attributes=[]},addBlankAttrBox:function(){if(console.log(this.attributeName,this.attributeTypes),""!==this.attributeName&&""!==this.attributeTypes){var t={name:this.attributeName,type:this.attributeTypes,format:this.attributeFormat,isRequired:this.attributeRequired};this.attributes.push(t),this.attributeName="",this.attributeTypes="",this.attributeFormat="",this.attributeRequired=!1}else this.notifyErr("Name or Type Cannot be blank")},ssePopulateSchema:function(t,e){var a=new EventSource("".concat(this.$config.studioServer.SCHEMA_SSE).concat(t));a.onmessage=function(t){var r=JSON.parse(t.data);console.log(r),"Registered"!==r.status&&"Failed"!==r.status||(a.close(),e.dispatch("insertAschema",r))},a.onopen=function(t){console.log("Connection to server opened.",t)},a.onerror=function(t){console.log(t),a.close()}},openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"))},createSchema:function(){var t=this;try{if(this.isLoading=!0,""==this.credentialName)throw new Error("SchemaName can not be blank");if(0==this.attributes.length)throw new Error("Atleast one attribute is required");var e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SAVE_SCHEMA_EP),a={name:this.credentialName,author:this.user.id,fields:this.attributes,description:this.credentialDescription,additionalProperties:this.additionalProperties,orgDid:this.$store.state.selectedOrgDid};this.QrData.data=a;var r={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};X()(e,{method:"POST",body:JSON.stringify({QR_DATA:this.QrData}),headers:r}).then((function(t){return t.json()})).then((function(e){var a=e.data.QR_DATA;if("success"!==e.message)throw new Error("".concat(e.error));t.notifySuccess("Schema creation initiated. Please approve the transaction from your wallet"),t.$store.dispatch("insertAschema",e.data.schema);var r="".concat(t.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(a));t.openWallet(r),t.ssePopulateSchema(e.data.schema._id,t.$store),t.openSlider()}))}catch(i){console.error(i),this.notifyErr("Error: ".concat(i.message))}finally{this.isLoading=!1}}},mixins:[c]},Ne=$e,ke=(a("c948"),Object(f["a"])(Ne,Le,xe,!1,null,"37025794",null)),Ue=ke.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("org-content")},Ve=[];function Be(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function He(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(a),!0).forEach((function(e){Me(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Me(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var qe={computed:{orgList:function(){return this.$store.state.orgList}},data:function(){return{edit:!1,orgStore:{name:"Hypermine Pvt Ltd",domain:"hypermine.in",logo:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.5EZ51foyo3QBV2FHnKq1cwHaEc%26pid%3DApi&f=1",region:"US EAST",network:"Jagrat",orgDid:"",userDid:"",status:""},authToken:localStorage.getItem("authToken"),isLoading:!0,isProcessFinished:!0,images:{greentick:a("478e"),redcross:a("d199"),loader:a("b982")}}},components:{HfPopUp:bt,Loading:H.a,StudioSideBar:At,OrgContent:Oe},created:function(){this.$store.commit("updateSideNavStatus",!0)},methods:{ssePopulateOrg:function(t,e){var a=new EventSource("".concat(this.$config.studioServer.ORG_SSE).concat(t));a.onmessage=function(t){var r=JSON.parse(t.data);console.log(r),"Registered"!==r.status&&"Failed"!==r.status||(a.close(),e.commit("insertAnOrg",r))},a.onopen=function(t){console.log("Connection to server opened.",t)},a.onerror=function(t){console.log(t),a.close()}},openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"),this.isProcessFinished=!1)},switchOrg:function(t){this.$store.commit("selectAnOrg",t),this.$store.dispatch("fetchAllOrgDataOnOrgSelect",t)},openSlider:function(){this.$root.$emit("bv::toggle::collapse","sidebar-right")},editOrg:function(t){this.edit=!0,Object.assign(this.orgStore,He({},this.$store.getters.findOrgByOrgID(t))),this.openSlider()},createAnOrg:function(){var t,e,a=this;this.edit?(e="PUT",t="".concat(this.$config.studioServer.BASE_URL,"api/v1/org")):(t="".concat(this.$config.studioServer.BASE_URL,"api/v1/org"),e="POST");var r={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};this.orgStore.userDid=JSON.parse(localStorage.getItem("user")).id;var i={orgData:this.orgStore};this.isLoading=!0,fetch(t,{method:e,body:JSON.stringify(i),headers:r}).then((function(t){return t.json()})).then((function(t){var e=t.org;if(!a.edit){var r=t.QrData,i="".concat(a.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(r));a.openWallet(i)}200===t.status&&(a.$store.commit("insertAnOrg",t.org),a.$store.commit("selectAnOrg",t.org._id),a.isProcessFinished=!0,a.openSlider(),a.notifySuccess("Org Created successfull"),a.edit&&(a.$store.commit("updateAnOrg",t.org),a.notifySuccess("Org Edited successfull"))),a.edit||(console.log(e),a.ssePopulateOrg(e._id,a.$store))})).catch((function(t){console.log(t),a.notifyError("Something went wrong")})).finally((function(){a.isLoading=!1}))}},mixins:[c]},Fe=qe,We=(a("e070"),Object(f["a"])(Fe,je,Ve,!1,null,"5214b868",null)),Je=We.exports,ze=a("2f62");function Qe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function Ge(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Qe(Object(a),!0).forEach((function(e){Ke(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ke(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}r["default"].use(ze["a"]);var Xe=new ze["a"].Store({state:{schemaList:[],vcList:[],templateList:[],orgList:[],selectedOrgDid:"",showSideNavbar:!1,userProfile:{details:{name:"",email:"",did:""},count:{credentialsCount:0,orgsCount:0,schemasCount:0,templatesCount:0}}},getters:{userDetails:function(t){return t.userProfile.details},allMetricsData:function(t){return t.userProfile.count},sideNavStatus:function(t){return t.showSideNavbar},isAnyOrgSelected:function(t){return""!=t.selectedOrgDid},totalSchemas:function(t){return t.schemaList.length},totalCredentials:function(t){return t.vcList.length},totalTemplateCount:function(t){return t.templateList.length},totalOrgList:function(t){return t.orgList.length},findSchemaBySchemaID:function(t){return function(e){return t.schemaList.find((function(t){return t.schemaId===e}))}},findOrgByOrgID:function(t){return function(e){return t.orgList.find((function(t){return t._id===e}))}},getSelectedOrg:function(t){return t.orgList.find((function(e){return e._id===t.selectedOrgDid}))},listOfAllSchemaOptions:function(t){var e=t.schemaList.map((function(t){return t.schemaId&&void 0!==t.schemaId&&"Registered"===t.status?{text:t.schemaDetails.name,value:t.schemaId}:null}));return e=e.filter((function(t){return t})),e.unshift({value:null,text:"Please select a schema"}),e}},mutations:{resetStore:function(t){t.orgList=[],t.schemaList=[],t.vcList=[],t.templateList=[],t.selectedOrgDid="",t.showSideNavbar=!1,t.userProfile={details:{name:"",email:"",did:""},count:{credentialsCount:0,orgsCount:0,schemasCount:0,templatesCount:0}}},increaseOrgCount:function(t){t.userProfile.count.orgsCount+=1},addUserDetailsToProfile:function(t,e){t.userProfile.details.name=e.name,t.userProfile.details.email=e.email,t.userProfile.details.did=e.id},addCountDataToProfile:function(t,e){t.userProfile.count=Ge({},e)},selectAnOrg:function(t,e){t.selectedOrgDid=e},updateSideNavStatus:function(t,e){t.showSideNavbar=e},insertAschema:function(t,e){t.schemaList.find((function(t){return t._id===e._id}))?(console.log("already exists scheme id ="+e._id),this.commit("updateAschema",e)):t.schemaList.push(e)},insertAnOrg:function(t,e){t.orgList.find((function(t){return t._id===e._id}))?(console.log("already exists scheme id ="+e._id),this.commit("updateAnOrg",e)):t.orgList.push(e)},updateAschema:function(t,e){var a=t.schemaList.findIndex((function(t){return t._id===e._id}));Object.assign(t.schemaList[a],Ge({},e))},updateAnOrg:function(t,e){var a=t.orgList.findIndex((function(t){return t._id===e._id}));Object.assign(t.orgList[a],Ge({},e))},insertApresentationTemplate:function(t,e){t.templateList.find((function(t){return t._id===e._id}))||t.templateList.push(e)},insertAcredential:function(t,e){t.vcList.find((function(t){return t._id===e._id}))?(console.log("already exists credential id ="+e._id),this.commit("updateAcredential",e)):t.vcList.push(e)},updateAcredential:function(t,e){var a=t.vcList.findIndex((function(t){return t._id===e._id}));Object.assign(t.vcList[a],Ge({},e))},updateSidebarStatus:function(t,e){t.showSideNavbar=e}},actions:{insertAschema:function(t,e){var a=t.commit,r=e.schemaId;if(r){var i="".concat(V.nodeServer.BASE_URL_REST).concat(V.nodeServer.SCHEMA_GET_REST).concat(r,":");fetch(i).then((function(t){return t.json()})).then((function(t){var r=t.schema[0];if(r.schema.properties){var i=r.schema.properties,n=JSON.parse(i);r.schema.properties=n}e["schemaDetails"]=r,a("insertAschema",e)})).catch((function(t){return console.log}))}else a("insertAschema",e)},insertAcredential:function(t,e){var a=t.commit,r=e.vc_id;r?fetch(r+":").then((function(t){return t.json()})).then((function(t){Object.assign(e,Ge({},t)),a("insertAcredential",e)})).catch((function(t){return console.log})):a("insertAcredential",e)},fetchAllOrgDataOnOrgSelect:function(t,e){var a=this;t.commit;this.authToken=localStorage.getItem("authToken");var r="".concat(V.studioServer.BASE_URL,"api/v1/presentation/template/org/").concat(this.getters.getSelectedOrg._id,"/"),i={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};fetch(r,{headers:i}).then((function(t){return t.json()})).then((function(t){0!==t.data.length?(a.state.templateList=[],t.data.forEach((function(t){a.commit("insertApresentationTemplate",t)}))):a.state.templateList=[]}));var n="".concat(V.studioServer.BASE_URL).concat(V.studioServer.SCHEMA_LIST_EP,"/").concat(this.getters.getSelectedOrg._id,"/?page=1&limit=10"),s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}};fetch(n,{headers:s.headers}).then((function(t){return t.json()})).then((function(t){t&&0!==t.data.schemaList.length?(a.state.schemaList=[],t.data.schemaList.forEach((function(t){a.dispatch("insertAschema",t)}))):a.state.schemaList=[]}));var o="".concat(V.studioServer.BASE_URL).concat(V.studioServer.CRED_LIST_EP,"/").concat(this.getters.getSelectedOrg._id),c={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}};fetch(o,{headers:c.headers}).then((function(t){return t.json()})).then((function(t){t&&0!==t.data.credList.length?(a.state.vcList=[],t.data.credList.forEach((function(t){a.dispatch("insertAcredential",t)}))):a.state.vcList=[]}))}}});r["default"].use(P["a"]);var Ze=new P["a"]({mode:"history",routes:[{path:"/",redirect:"/studio",requiresAuth:!0},{path:"/login",redirect:"/studio/login"},{path:"/studio",redirect:"/studio/dashboard",requiresAuth:!0},{path:"/studio/login",name:"PKIIdLogin",component:z},{path:"/studio/dashboard",name:"dashboard",component:Re,meta:{requiresAuth:!0}},{path:"/studio/org",name:"Org",component:Je,meta:{requiresAuth:!0}},{path:"/studio/register",name:"register",component:st},{path:"/studio/schema",name:"schema",component:Ue,meta:{requiresAuth:!0}},{path:"/studio/credential",name:"credential",component:It,meta:{requiresAuth:!0}},{path:"/studio/presentation",name:"presentation",component:Ft,meta:{requiresAuth:!0}}]});Ze.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.requiresAuth}))){var r=localStorage.getItem("authToken");if(r){var i="".concat(V.studioServer.BASE_URL,"api/v2/protected");X()(i,{headers:{Authorization:"Bearer ".concat(r)},method:"POST"}).then((function(t){return t.json()})).then((function(e){403==e.status?a({path:"/studio/login",params:{nextUrl:t.fullPath}}):(localStorage.setItem("user",JSON.stringify(e.message)),Xe.commit("addUserDetailsToProfile",e.message),a())})).catch((function(e){console.log(e),a({path:"/studio/login",params:{nextUrl:t.fullPath}})}))}else a({path:"/studio/login",params:{nextUrl:t.fullPath}})}else a()}));var Ye=Ze,ta=a("5f5b"),ea=a("b1e0"),aa=a("ee98"),ra=a.n(aa),ia=a("4776"),na=a.n(ia);a("b15b"),a("f9e3"),a("2dd8"),a("5363"),a("eea2");r["default"].config.productionTip=!1,r["default"].use(na.a),r["default"].use(ta["a"]),r["default"].use(ea["a"]),r["default"].use(ra.a),r["default"].config.devtools=!0,r["default"].prototype.$config=V,new r["default"]({router:Ye,store:Xe,render:function(t){return t(C)}}).$mount("#app")},"599f":function(t,e,a){},6:function(t,e){},7:function(t,e){},7899:function(t,e,a){"use strict";var r=a("4c49"),i=a.n(r);i.a},8:function(t,e){},"8bdf":function(t,e,a){"use strict";var r=a("ec58"),i=a.n(r);i.a},9:function(t,e,a){t.exports=a("56d7")},"92d0":function(t,e,a){},"9de5":function(t,e,a){"use strict";var r=a("599f"),i=a.n(r);i.a},a6aa:function(t,e,a){},b0a0:function(t,e,a){"use strict";var r=a("07bb"),i=a.n(r);i.a},b982:function(t,e,a){t.exports=a.p+"img/small-loader.3f259006.gif"},c948:function(t,e,a){"use strict";var r=a("f236"),i=a.n(r);i.a},cce2:function(t,e,a){"use strict";var r=a("5425"),i=a.n(r);i.a},d199:function(t,e,a){t.exports=a.p+"img/red-cross.2d80c3a5.png"},e070:function(t,e,a){"use strict";var r=a("92d0"),i=a.n(r);i.a},e2c9:function(t,e,a){var r=a("69f2"),i=a("7247");i.ModeOfOperation.ctr;function n(t){return r("sha256").update(t).digest()}function s(t){return i.utils.hex.fromBytes(n(t))}t.exports={sha256hashStr:s}},ec58:function(t,e,a){},f0d6:function(t,e,a){"use strict";var r=a("2270"),i=a.n(r);i.a},f1b8:function(t,e,a){},f236:function(t,e,a){},f5bb:function(t,e,a){},f5ce:function(t,e,a){"use strict";var r=a("a6aa"),i=a.n(r);i.a}});
//# sourceMappingURL=app.54c15089.js.map